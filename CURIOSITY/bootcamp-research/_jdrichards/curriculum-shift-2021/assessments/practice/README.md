# React Practice Assessment

This is your React practice assessment.

## Scoring

Each step below has varied amounts of tests.
The tests for each step have point values assigned to them which means you can
get partial credit for partially finishing a step and getting _some_ of the
tests to pass.

If you have errors or warnings in your console (other than those beyond your
control such as cross-origin cookie errors) or erroneously badly formatted code,
up to five points may be deducted from your score.

You can see your score (without the checks for errors or warnings in your
console and without the checks for erroneously badly formatted code) at any time
by running `npm run test-with-json`.

## Resources

You can use any of the following resources during this assessment:

- [React Router documentation](https://reacttraining.com/react-router/web)
- [React documentation](https://reactjs.org/docs/getting-started.html)
- [Mozilla Developer Network](https://developer.mozilla.org/en-US/docs/Web)
- Any of your previous projects or assessments

## Tests for your assessment

This assessment contains tests to help you complete the phases below. When run,
they will report to you when expectations of _functionality_ are met. It is
still up to you to make sure that your code does not produce errors in the
console or that it is not poorly formatted.

The tests are grouped by phase. Use these test groupings to know when each phase
is complete from a functionality perspective.

The tests are located in **src/__tests__**. Do not modify the files in that
directory.

There is also a file named **src/setupTests.js**. Do not modify or delete that
file, either. It sets up the testing environment.

## Recommendations/Requirements

It is recommended that you consistently review the output of the build in your
Terminal or browser console to make sure that you do not have any warnings
about things like unused variables.

After each phase, the application should render in the browser without errors.

Do not change the location of files in the **src/components** folder. The tests
expect the existence of those files.

When instructed to do something like "Use the `Blah` component in the `render`
method", that implies that you may need to import something like the `Blah`
component. In most cases, you will _not_ be instructed to import something;
rather, you should use your knowledge of how JavaScript modules work to figure
that out on your own.

### Phase 0: Getting the app running

Download the starter. It contains an application generated by Create React App
using the **@appacademy/react-v17** template and providing **react-router-dom**.
It contains some styling for you in the **index.css** file for CSS classes that
you will apply during the steps so that things are not default browser layout.

It also contains the tests for the components that you will create.

The React application is already wrapped in the `BrowserRouter` component from
`react-router-dom` in **src/index.js**.

After cloning, run `npm install` to install the dependencies.

You can run your tests with `npm test`. Follow the on-screen instructions to
quit the test runner. If you want to run your tests only once, use the following
command.

```plaintext
CI=true npm test
```

To run the tests for the step you're on, run `npm test -- <file>` where
`<file>` is the test file you're working on.

Here's the list of test files to run individually:

- `npm test 1-FruitsIndex`
- `npm test 2-FruitForm`
- `npm test 3-FavoriteFruit`
- `npm test 4-SetFavoriteFruit`
- `npm test 5-Routes`
- `npm test 6-Navigation`
- `npm test 7-FruitShow1`
- `npm test 8-FruitShow2`

Type _Control+C_ to stop the test runner.

You can also run all the tests at once by simply running `npm test`.

To run the application, use the command `npm start`.

#### macOS

If you are on macOS, this should also open a Google Chrome window to see your
application.

#### Windows

If you are on Windows, you can run `npm start` from the Terminal Bash prompt in
Visual Studio Code which should open your browser for you.

**Warning**: make sure the browser that it opens is Google Chrome. If you don't
have Google Chrome as your default browser, it will open Microsoft Internet
Explorer. For the purposes of this class, you must use Google Chrome.
Running `npm start` in the Ubuntu window will only start the application;
in that case, you will have to open a browser window and navigate to
http://localhost:3000/ yourself (by clicking on that link, for example).

### Phase 1: FruitsIndex

In this phase, you will be filling in the code for the `FruitsIndex` component
which will show links to fruit pages for all the fruits in a given list of
fruits.

To test this phase, run `npm test 1-FruitsIndex`.

Render the `FruitsIndex` component inside of the `App` component. Pass in the
array of fruits exported from the **src/mockData/fruits.json** mock data file as
a prop to the `FruitsIndex` called `fruits`. The prop passed into `FruitsIndex`
must be named `fruits`, the array of fruits exported from
**src/mockData/fruits.json**.

Inside of the `FruitsIndex` component, render a `div` as the outermost element
of the component with a class of `fruits-index`. Inside of this `div` render an
`h2` element with exactly the text, "Fruits Index".

Inside of `div.fruits-index`, render links to the fruit show pages for all the
fruits passed in as props. Each link should be formatted as `/fruits/:fruitId`
with `:fruitId` replaced with a fruit's `id`. The visual content of each link
should be that fruit's `name`.

**You must use the `Link` component from `react-router-dom`.**

### Phase 2: FruitForm

In this phase, you will be creating controlled inputs, form validations, and
form submission for the `FruitForm` component.

**Do not change the class names and existing attributes for any of the elements
rendered in the `FruitForm` component.** The tests rely on these to be present.

To test this phase, run `npm test 2-FruitForm`.

Render the `FruitForm` component inside of the `App` component.
You can make it a sibling to the `FruitsIndex` component from Phase 1.

Pass in the array of fruits exported from the **src/mockData/fruits.json** mock
data file as a prop to the `FruitForm` called `fruits`. The prop passed into
`FruitForm` must be named `fruits`, the array of fruits exported from
**src/mockData/fruits.json**. This is just like how you passed in the `fruits`
as a prop in `FruitsIndex`.

Take a look at the `FruitForm` component. The `<form>` and its inputs have
already been created for you. **Make the name, sweetness, and color inputs into
controlled inputs**. The name field should be initialized to an empty string.
The sweetness field should be initialized to 1, and the color field should be
initialized to the first color in the `COLORS` constant variable defined at the
top of the component file. The seeds field should be initialized to "yes".

Create the following form validations with the error messages rendered in the
`ul.errors` element. (Hint: use `useEffect` with `useState`.)

| Field     | Condition                          | Error Message                        |
| --------- | ---------------------------------- | ------------------------------------ |
| Name      | Less than 3 characters             | "Name must be 3 or more characters"  |
| Name      | More than 20 characters            | "Name must be 20 characters or less" |
| Name      | Uniqueness                         | "Name already exists."               |
| Sweetness | Less than 1 **or** Greater than 10 | "Sweetness must be between 1 and 10" |

**The errors must be handled dynamically and be checked on initial render and
after every change in user input, not during form submission.**

Disable the submit button of the `<form>` with a `disabled` attribute (with a
value of `true`) if the form validations don't pass (i.e. any error messages
present).

**When the form is submitted**, print the form values to the console in an
object with the keys `name`, `sweetness`, `color`, and `seeds` and then redirect
to the home page, "/".

Example of form values properly formatted in an object:

```js
{
  name: "Blueberry",
  sweetness: "7",
  color: "blue",
  seeds: "yes"
}
```

### Phase 3: FavoriteFruit

In this phase, you will be filling in the code for the `FavoriteFruit` component.
This component will render a navigation link to the show page of the favorite
fruit matching the `favFruitId` in the context.

Take a look at the context and provider created in
**src/context/FavFruitContext.js**. The value of the `FavFruitContext` has a
`favFruitId` that should be matched to an existing fruit. The `FavoriteFruit`
component should render a `NavLink` to the show page of the favorite fruit
(route must match the pattern, `/fruits/:fruitid`). The text of the `NavLink`
should be the name of the favorite fruit.

Hint: You may want to create a custom hook to return the values of the
`FavFruitContext`.

To test this phase, run `npm test 3-FavoriteFruit`.

Render the `FavoriteFruit` component inside of the `App` component.

Inside of the `FavoriteFruit` component, render a `div` as the outermost element
with a class of `fav-fruit`. Inside of this `div` render an `h2` element with
the text, "Favorite Fruit". Also inside of this `div`, render the `NavLink` that
directs a user to the favorite fruit's show page (`/fruits/:fruitId`).

Hint: You will want to pass in all the `fruits` as props to this component, just
like how you did in the previous two.

### Phase 4: SetFavoriteFruit

In the previous phase, you used the `FavFruitContext`'s `favFruitId` value. In
this phase you will set the `favFruitId` value of the context in the
`SetFavoriteFruit` component.

To test this phase, run `npm test 4-SetFavoriteFruit`.

**Do not change the class names and existing attributes for any of the elements
rendered in the `SetFavoriteFruit` component.** The tests rely on these to be
present.

Render the `SetFavoriteFruit` component inside of the `App` component. Pass in
the `fruits` in the `App` as `props` to the `SetFavoriteFruit` component.

Two inputs have been rendered in the `SetFavoriteFruit` component for you. Make
these a **controlled input** that changes the value of the `favFruitId` in the
`FavFruitContext` using the `setFavFruitId` function in the `FavFruitContext`.
The favorite fruit dropdown menu should select the appropriate fruit based on
the `favFruitId`. For example, if `favFruitId` is `"1"`, then the favorite fruit
selected in the dropdown menu should be `Apple`.

If done correctly, you should see the favorite fruit name in the `FavoriteFruit`
component change when you select a different fruit in the `SetFavoriteFruit`
dropdown menu.

### Phase 5: Routes

In this phase, you will create the following routes in the `App` component:

| Route path         | Component/Text          |
| ------------------ | ----------------------- |
| `/` exactly        | `FruitsIndex`           |
| `/fruits/new`      | `FruitForm`             |
| `/fav-fruit`       | `FavoriteFruit`         |
| `/set-fav-fruit`   | `SetFavoriteFruit`      |
| `/fruits/:fruitId` | `FruitShow`             |
| all other paths    | "Page Not Found" (text) |

**`BrowserRouter` is already wrapping the entire application in the entry file,
`src/index.js`.**

To test this phase, run `npm test 5-Routes`.

**Make sure all the other phases still pass after you finish this phase.**

### Phase 6: Navigation

In this phase, you will create navigation links in the `Navigation` component.

To test this phase, run `npm test 6-Navigation`.

Render the `Navigation` component inside of the `App` component.

Inside of the `Navigation` component, render a `nav` as the outermost element.

Render the following four navigation links inside of the `nav` element:

| Name               | Path             |
| ------------------ | ---------------- |
| Home               | `/`              |
| Enter a Fruit      | `/fruits/new`    |
| Favorite Fruit     | `/fav-fruit`     |
| Set Favorite Fruit | `/set-fav-fruit` |

Please use the value in the "Name" column above as the visual content of your
navigation link.

**You must use the `NavLink` component from `react-router-dom`.**

### Phase 7: FruitShow

In this phase, you will be rendering the details of a fruit in the `FruitShow`
component that should be shown on the `/fruits/:fruitId` route path.

In the list of fruits in the mock data file, **src/mockData/fruits.json**, each
fruit has an `id`. Inside of the `FruitShow` component, display the fruit
information for the fruit with the `id` that matches the `:fruitId` in the URL
path.

To test this phase, run these two tests:

- `npm test 7-FruitShow1` - route path: `/fruits/1`
- `npm test 8-FruitShow2` - route path: `/fruits/2`

The `FruitShow` component should already be rendered inside of the `App`
component from when you added routes in Phase 5. Pass in the array of fruits
exported from the **src/mockData/fruits.json** mock data file as a prop to the
`FruitShow` called `fruits`. The prop passed into `FruitShow` must be named
`fruits` (the same way that you passed in `fruits` into `FruitsIndex`).

Inside of the `FruitShow` component, render a `div` as the outermost element
with a class of `fruit-show`. Use the fruit with the `id` object property that
matches the `fruitId` from the route path. Inside of `div.fruit-show`, render an
`h2` element with the fruit's name as the text. Outside of the `h2` element,
render the color, sweetness, and if there are seeds of the fruit in any sort of
text elements you want to use EXCEPT an `h2` element.

### Wrapping up

Make sure that you pass all the tests by running `npm test`. Each test is
weighted individually. To see your score, run `npm run score`.

## Submitting your assessment

1. Delete the **node_modules** directory from the directory that contains your
   assessment code.
2. Delete the **test/score.json** file, if you have one.
3. Zip up the directory that contains your assessment code.
4. Submit it.
