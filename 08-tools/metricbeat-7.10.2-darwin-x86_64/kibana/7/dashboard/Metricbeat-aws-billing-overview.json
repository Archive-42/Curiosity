{
    "objects": [
        {
            "attributes": {
                "description": "Overview of AWS Billing Metrics",
                "hits": 0,
                "kibanaSavedObjectMeta": {
                    "searchSourceJSON": "{\"query\": {\"language\": \"kuery\", \"query\": \"\"}, \"filter\": []}"
                },
                "optionsJSON": "{\"useMargins\": true, \"hidePanelTitles\": false}",
                "panelsJSON": "[{\"gridData\": {\"w\": 9, \"x\": 0, \"y\": 0, \"i\": \"89dccfe8-a25e-44ea-afdb-ff01ab1f05d6\", \"h\": 5}, \"panelIndex\": \"89dccfe8-a25e-44ea-afdb-ff01ab1f05d6\", \"title\": \"AWS Account Filter\", \"embeddableConfig\": {\"title\": \"AWS Account Filter\"}, \"panelRefName\": \"panel_0\", \"version\": \"7.9.0\"}, {\"gridData\": {\"w\": 8, \"x\": 9, \"y\": 0, \"i\": \"f1db16b5-ce0a-4f21-885f-434c16346c26\", \"h\": 18}, \"panelIndex\": \"f1db16b5-ce0a-4f21-885f-434c16346c26\", \"title\": \"Current Total Unblended Cost\", \"embeddableConfig\": {\"title\": \"Current Total Unblended Cost\"}, \"panelRefName\": \"panel_1\", \"version\": \"7.9.0\"}, {\"gridData\": {\"w\": 31, \"x\": 17, \"y\": 0, \"i\": \"57912f48-42ec-4d3e-ba54-bf94757d1eec\", \"h\": 18}, \"panelIndex\": \"57912f48-42ec-4d3e-ba54-bf94757d1eec\", \"title\": \"Availability Zone Utilization\", \"embeddableConfig\": {\"title\": \"Availability Zone Utilization\"}, \"panelRefName\": \"panel_2\", \"version\": \"7.9.0\"}, {\"gridData\": {\"w\": 9, \"x\": 0, \"y\": 5, \"i\": \"221aab02-2747-4d84-9dde-028ccd51bdce\", \"h\": 13}, \"panelIndex\": \"221aab02-2747-4d84-9dde-028ccd51bdce\", \"title\": \"Total Estimated Charges For This Month\", \"embeddableConfig\": {\"title\": \"Total Estimated Charges For This Month\"}, \"panelRefName\": \"panel_3\", \"version\": \"7.9.0\"}, {\"gridData\": {\"w\": 24, \"x\": 0, \"y\": 18, \"i\": \"376f236b-1365-4e80-8076-eec88c1a67bd\", \"h\": 20}, \"panelIndex\": \"376f236b-1365-4e80-8076-eec88c1a67bd\", \"title\": \"Cost Per Service Per User\", \"embeddableConfig\": {\"title\": \"Cost Per Service Per User\"}, \"panelRefName\": \"panel_4\", \"version\": \"7.9.0\"}, {\"gridData\": {\"w\": 24, \"x\": 24, \"y\": 18, \"i\": \"dd5220c2-dc8a-4d3e-964b-6137d1e447ad\", \"h\": 20}, \"panelIndex\": \"dd5220c2-dc8a-4d3e-964b-6137d1e447ad\", \"title\": \"High Spenders\", \"embeddableConfig\": {\"title\": \"High Spenders\"}, \"panelRefName\": \"panel_5\", \"version\": \"7.9.0\"}, {\"gridData\": {\"w\": 24, \"x\": 0, \"y\": 38, \"i\": \"1de716e2-bad9-4fe3-ba49-0e2ea2a59bb4\", \"h\": 18}, \"panelIndex\": \"1de716e2-bad9-4fe3-ba49-0e2ea2a59bb4\", \"title\": \"Top 10 Estimated Charges per Service Name\", \"embeddableConfig\": {\"title\": \"Top 10 Estimated Charges per Service Name\"}, \"panelRefName\": \"panel_6\", \"version\": \"7.9.0\"}, {\"gridData\": {\"w\": 24, \"x\": 24, \"y\": 38, \"i\": \"60181fec-fea9-4f99-b5f9-a53ffbc2ac65\", \"h\": 18}, \"panelIndex\": \"60181fec-fea9-4f99-b5f9-a53ffbc2ac65\", \"title\": \"Daily Unblended Cost\", \"embeddableConfig\": {\"title\": \"Daily Unblended Cost\"}, \"panelRefName\": \"panel_7\", \"version\": \"7.9.0\"}]",
                "timeRestore": false,
                "title": "[Metricbeat AWS] Billing Overview",
                "version": 1
            },
            "id": "e6776b10-1534-11ea-841c-01bf20a6c8ba",
            "migrationVersion": {
                "dashboard": "7.3.0"
            },
            "namespaces": [
                "default"
            ],
            "references": [
                {
                    "id": "deab0260-2981-11e9-86eb-a3a07a77f530",
                    "name": "panel_0",
                    "type": "visualization"
                },
                {
                    "id": "1731c440-e649-11ea-a838-3f4a45f85600",
                    "name": "panel_1",
                    "type": "visualization"
                },
                {
                    "id": "a5670a20-e65a-11ea-a838-3f4a45f85600",
                    "name": "panel_2",
                    "type": "visualization"
                },
                {
                    "id": "83f08eb0-1532-11ea-841c-01bf20a6c8ba",
                    "name": "panel_3",
                    "type": "visualization"
                },
                {
                    "id": "b3da5ac0-e6f1-11ea-a5b5-d5a0accaec95",
                    "name": "panel_4",
                    "type": "lens"
                },
                {
                    "id": "d7b399c0-e6f1-11ea-a5b5-d5a0accaec95",
                    "name": "panel_5",
                    "type": "lens"
                },
                {
                    "id": "cde34840-e6f2-11ea-a5b5-d5a0accaec95",
                    "name": "panel_6",
                    "type": "lens"
                },
                {
                    "id": "3e091620-e64b-11ea-a838-3f4a45f85600",
                    "name": "panel_7",
                    "type": "visualization"
                }
            ],
            "type": "dashboard",
            "updated_at": "2020-09-14T04:08:21.260Z",
            "version": "WzcyNjksOF0="
        },
        {
            "attributes": {
                "description": "",
                "kibanaSavedObjectMeta": {
                    "searchSourceJSON": "{\"query\": {\"language\": \"kuery\", \"query\": \"\"}, \"filter\": []}"
                },
                "title": "AWS Account Filter [Metricbeat AWS]",
                "uiStateJSON": "{}",
                "version": 1,
                "visState": "{\"aggs\": [], \"type\": \"input_control_vis\", \"title\": \"AWS Account Filter [Metricbeat AWS]\", \"params\": {\"controls\": [{\"indexPatternRefName\": \"control_0_index_pattern\", \"type\": \"list\", \"parent\": \"\", \"options\": {\"dynamicOptions\": true, \"size\": 5, \"multiselect\": true, \"order\": \"desc\", \"type\": \"terms\"}, \"id\": \"1549397251041\", \"fieldName\": \"cloud.account.name\", \"label\": \"account name\"}], \"updateFiltersOnChange\": true, \"pinFilters\": false, \"useTimeFilter\": false}}"
            },
            "id": "deab0260-2981-11e9-86eb-a3a07a77f530",
            "migrationVersion": {
                "visualization": "7.8.0"
            },
            "namespaces": [
                "default"
            ],
            "references": [
                {
                    "id": "metricbeat-*",
                    "name": "control_0_index_pattern",
                    "type": "index-pattern"
                }
            ],
            "type": "visualization",
            "updated_at": "2020-09-14T04:04:04.990Z",
            "version": "WzY2MDYsOF0="
        },
        {
            "attributes": {
                "description": "",
                "kibanaSavedObjectMeta": {
                    "searchSourceJSON": "{\"query\": {\"language\": \"kuery\", \"query\": \"\"}, \"filter\": []}"
                },
                "title": "Total Unblended Cost [Metricbeat AWS]",
                "uiStateJSON": "{}",
                "version": 1,
                "visState": "{\"aggs\": [], \"type\": \"metrics\", \"title\": \"Total Unblended Cost [Metricbeat AWS]\", \"params\": {\"default_index_pattern\": \"metricbeat-*\", \"time_field\": \"@timestamp\", \"axis_formatter\": \"number\", \"show_legend\": 1, \"filter\": {\"language\": \"kuery\", \"query\": \"aws.billing.group_definition.key : \\\"AZ\\\"\"}, \"isModelInvalid\": false, \"background_color_rules\": [{\"id\": \"cf04e620-e648-11ea-bdad-df8839db1393\"}], \"id\": \"61ca57f0-469d-11e7-af02-69e470af7417\", \"index_pattern\": \"metricbeat-*\", \"time_range_mode\": \"last_value\", \"drop_last_bucket\": 0, \"interval\": \">=2d\", \"axis_scale\": \"normal\", \"axis_position\": \"left\", \"default_timefield\": \"@timestamp\", \"type\": \"metric\", \"tooltip_mode\": \"show_all\", \"series\": [{\"series_time_field\": \"@timestamp\", \"series_drop_last_bucket\": 0, \"series_index_pattern\": \"metricbeat-*\", \"split_color_mode\": \"kibana\", \"color\": \"#68BC00\", \"filter\": {\"language\": \"kuery\", \"query\": \"aws.billing.group_definition.key : \\\"AZ\\\"\"}, \"line_width\": 1, \"axis_position\": \"right\", \"id\": \"61ca57f1-469d-11e7-af02-69e470af7417\", \"stacked\": \"none\", \"override_index_pattern\": 1, \"type\": \"timeseries\", \"split_mode\": \"filter\", \"metrics\": [{\"type\": \"sum\", \"field\": \"aws.billing.UnblendedCost.amount\", \"id\": \"61ca57f2-469d-11e7-af02-69e470af7417\"}], \"separate_axis\": 0, \"point_size\": 1, \"chart_type\": \"line\", \"fill\": 0.5, \"formatter\": \"number\", \"series_interval\": \">=2d\", \"label\": \"Total Unblended Cost\"}], \"show_grid\": 1}}"
            },
            "id": "1731c440-e649-11ea-a838-3f4a45f85600",
            "migrationVersion": {
                "visualization": "7.8.0"
            },
            "namespaces": [
                "default"
            ],
            "references": [],
            "type": "visualization",
            "updated_at": "2020-09-14T04:03:51.696Z",
            "version": "WzY0NjksOF0="
        },
        {
            "attributes": {
                "description": "",
                "kibanaSavedObjectMeta": {
                    "searchSourceJSON": "{\"query\": {\"language\": \"kuery\", \"query\": \"\"}, \"indexRefName\": \"kibanaSavedObjectMeta.searchSourceJSON.index\", \"filter\": []}"
                },
                "title": "Availability Zone Utilization [Metricbeat AWS]",
                "uiStateJSON": "{}",
                "version": 1,
                "visState": "{\"aggs\": [{\"type\": \"count\", \"enabled\": true, \"id\": \"1\", \"schema\": \"metric\", \"params\": {}}, {\"type\": \"terms\", \"enabled\": true, \"id\": \"2\", \"schema\": \"segment\", \"params\": {\"orderBy\": \"1\", \"otherBucketLabel\": \"Other\", \"field\": \"aws.billing.group_by.AZ\", \"order\": \"desc\", \"size\": 20, \"otherBucket\": false, \"missingBucket\": false, \"exclude\": \"NoAZ\", \"missingBucketLabel\": \"Missing\"}}], \"type\": \"pie\", \"title\": \"Availability Zone Utilization [Metricbeat AWS]\", \"params\": {\"labels\": {\"truncate\": 100, \"show\": true, \"values\": true, \"last_level\": true}, \"addLegend\": true, \"addTooltip\": true, \"type\": \"pie\", \"legendPosition\": \"right\", \"isDonut\": true}}"
            },
            "id": "a5670a20-e65a-11ea-a838-3f4a45f85600",
            "migrationVersion": {
                "visualization": "7.8.0"
            },
            "namespaces": [
                "default"
            ],
            "references": [
                {
                    "id": "metricbeat-*",
                    "name": "kibanaSavedObjectMeta.searchSourceJSON.index",
                    "type": "index-pattern"
                }
            ],
            "type": "visualization",
            "updated_at": "2020-09-14T04:03:51.696Z",
            "version": "WzY0NzAsOF0="
        },
        {
            "attributes": {
                "description": "",
                "kibanaSavedObjectMeta": {
                    "searchSourceJSON": "{\"query\": {\"language\": \"kuery\", \"query\": \"\"}, \"filter\": []}"
                },
                "title": "Total Estimated Charges [Metricbeat AWS]",
                "uiStateJSON": "{}",
                "version": 1,
                "visState": "{\"aggs\": [], \"type\": \"metrics\", \"title\": \"Total Estimated Charges [Metricbeat AWS]\", \"params\": {\"axis_formatter\": \"number\", \"id\": \"61ca57f0-469d-11e7-af02-69e470af7417\", \"isModelInvalid\": false, \"index_pattern\": \"metricbeat-*\", \"gauge_color_rules\": [{\"id\": \"e8a045e0-1531-11ea-961e-c1db9cc6166e\"}], \"time_range_mode\": \"last_value\", \"time_field\": \"@timestamp\", \"axis_position\": \"left\", \"default_timefield\": \"@timestamp\", \"tooltip_mode\": \"show_all\", \"gauge_style\": \"half\", \"gauge_inner_width\": 10, \"default_index_pattern\": \"metricbeat-*\", \"bar_color_rules\": [{\"id\": \"ebb52700-1531-11ea-961e-c1db9cc6166e\"}], \"filter\": {\"language\": \"kuery\", \"query\": \"aws.billing.EstimatedCharges : * and not (aws.billing.ServiceName : * )\"}, \"show_legend\": 1, \"background_color_rules\": [{\"id\": \"88a80e30-1530-11ea-961e-c1db9cc6166e\"}], \"drop_last_bucket\": 0, \"interval\": \">=1d\", \"axis_scale\": \"normal\", \"show_grid\": 1, \"gauge_width\": 10, \"type\": \"metric\", \"series\": [{\"line_width\": 1, \"time_range_mode\": \"last_value\", \"override_index_pattern\": 1, \"split_mode\": \"filter\", \"axis_position\": \"right\", \"point_size\": 1, \"value_template\": \"${{value}}\", \"series_index_pattern\": \"metricbeat-*\", \"split_color_mode\": \"gradient\", \"chart_type\": \"line\", \"series_interval\": \">=1d\", \"label\": \"Total Estimated Charges\", \"series_time_field\": \"@timestamp\", \"fill\": 0.5, \"color\": \"#68BC00\", \"filter\": {\"language\": \"kuery\", \"query\": \"aws.billing.EstimatedCharges : * and not (aws.billing.ServiceName : * )\"}, \"id\": \"61ca57f1-469d-11e7-af02-69e470af7417\", \"stacked\": \"none\", \"series_drop_last_bucket\": 0, \"separate_axis\": 0, \"formatter\": \"number\", \"metrics\": [{\"type\": \"sum\", \"field\": \"aws.billing.EstimatedCharges\", \"id\": \"61ca57f2-469d-11e7-af02-69e470af7417\"}]}]}}"
            },
            "id": "83f08eb0-1532-11ea-841c-01bf20a6c8ba",
            "migrationVersion": {
                "visualization": "7.8.0"
            },
            "namespaces": [
                "default"
            ],
            "references": [],
            "type": "visualization",
            "updated_at": "2020-09-14T04:03:51.696Z",
            "version": "WzY0NzEsOF0="
        },
        {
            "attributes": {
                "description": "",
                "expression": "kibana\n| kibana_context  query=\"{\\\"query\\\":\\\"\\\",\\\"language\\\":\\\"kuery\\\"}\" filters=\"[]\"\n| lens_merge_tables layerIds=\"cbffa0b1-50bb-40fe-bd8d-6a26d2b58fb3\" \n  tables={esaggs index=\"metricbeat-*\" metricsAtAllLevels=true partialRows=true includeFormatHints=true  aggConfigs=\"[{\\\"id\\\":\\\"5d850e8e-f3e0-4ad2-9697-b8c00c03f753\\\",\\\"enabled\\\":true,\\\"type\\\":\\\"terms\\\",\\\"schema\\\":\\\"segment\\\",\\\"params\\\":{\\\"field\\\":\\\"aws.billing.group_by.SERVICE\\\",\\\"orderBy\\\":\\\"75188758-7734-4fc3-af1d-297c455715f0\\\",\\\"order\\\":\\\"desc\\\",\\\"size\\\":5,\\\"otherBucket\\\":false,\\\"otherBucketLabel\\\":\\\"Other\\\",\\\"missingBucket\\\":false,\\\"missingBucketLabel\\\":\\\"Missing\\\"}},{\\\"id\\\":\\\"a1f5b3b8-41da-452b-8683-7a9ca6b6267f\\\",\\\"enabled\\\":true,\\\"type\\\":\\\"terms\\\",\\\"schema\\\":\\\"segment\\\",\\\"params\\\":{\\\"field\\\":\\\"aws.billing.group_by.aws:createdBy\\\",\\\"orderBy\\\":\\\"75188758-7734-4fc3-af1d-297c455715f0\\\",\\\"order\\\":\\\"desc\\\",\\\"size\\\":10,\\\"otherBucket\\\":false,\\\"otherBucketLabel\\\":\\\"Other\\\",\\\"missingBucket\\\":false,\\\"missingBucketLabel\\\":\\\"Missing\\\"}},{\\\"id\\\":\\\"75188758-7734-4fc3-af1d-297c455715f0\\\",\\\"enabled\\\":true,\\\"type\\\":\\\"sum\\\",\\\"schema\\\":\\\"metric\\\",\\\"params\\\":{\\\"field\\\":\\\"aws.billing.UnblendedCost.amount\\\",\\\"missing\\\":0}}]\" | lens_rename_columns idMap=\"{\\\"col-0-5d850e8e-f3e0-4ad2-9697-b8c00c03f753\\\":{\\\"label\\\":\\\"Service Name\\\",\\\"dataType\\\":\\\"string\\\",\\\"operationType\\\":\\\"terms\\\",\\\"scale\\\":\\\"ordinal\\\",\\\"sourceField\\\":\\\"aws.billing.group_by.SERVICE\\\",\\\"isBucketed\\\":true,\\\"params\\\":{\\\"size\\\":5,\\\"orderBy\\\":{\\\"type\\\":\\\"column\\\",\\\"columnId\\\":\\\"75188758-7734-4fc3-af1d-297c455715f0\\\"},\\\"orderDirection\\\":\\\"desc\\\"},\\\"customLabel\\\":true,\\\"id\\\":\\\"5d850e8e-f3e0-4ad2-9697-b8c00c03f753\\\"},\\\"col-2-a1f5b3b8-41da-452b-8683-7a9ca6b6267f\\\":{\\\"label\\\":\\\"Top values of aws.billing.group_by.aws:createdBy\\\",\\\"dataType\\\":\\\"string\\\",\\\"operationType\\\":\\\"terms\\\",\\\"scale\\\":\\\"ordinal\\\",\\\"suggestedPriority\\\":0,\\\"sourceField\\\":\\\"aws.billing.group_by.aws:createdBy\\\",\\\"isBucketed\\\":true,\\\"params\\\":{\\\"size\\\":10,\\\"orderBy\\\":{\\\"type\\\":\\\"column\\\",\\\"columnId\\\":\\\"75188758-7734-4fc3-af1d-297c455715f0\\\"},\\\"orderDirection\\\":\\\"desc\\\"},\\\"id\\\":\\\"a1f5b3b8-41da-452b-8683-7a9ca6b6267f\\\"},\\\"col-3-75188758-7734-4fc3-af1d-297c455715f0\\\":{\\\"label\\\":\\\"Total Unblended Cost\\\",\\\"dataType\\\":\\\"number\\\",\\\"operationType\\\":\\\"sum\\\",\\\"sourceField\\\":\\\"aws.billing.UnblendedCost.amount\\\",\\\"isBucketed\\\":false,\\\"scale\\\":\\\"ratio\\\",\\\"customLabel\\\":true,\\\"id\\\":\\\"75188758-7734-4fc3-af1d-297c455715f0\\\"}}\"}\n| lens_xy_chart xTitle=\"Service Name\" yTitle=\"Total Unblended Cost\" legend={lens_xy_legendConfig isVisible=true position=\"right\"} fittingFunction=\"None\" \n  layers={lens_xy_layer layerId=\"cbffa0b1-50bb-40fe-bd8d-6a26d2b58fb3\" hide=false xAccessor=\"5d850e8e-f3e0-4ad2-9697-b8c00c03f753\" yScaleType=\"linear\" xScaleType=\"ordinal\" isHistogram=false splitAccessor=\"a1f5b3b8-41da-452b-8683-7a9ca6b6267f\"  seriesType=\"bar_stacked\" accessors=\"75188758-7734-4fc3-af1d-297c455715f0\" columnToLabel=\"{\\\"75188758-7734-4fc3-af1d-297c455715f0\\\":\\\"Total Unblended Cost\\\",\\\"a1f5b3b8-41da-452b-8683-7a9ca6b6267f\\\":\\\"Top values of aws.billing.group_by.aws:createdBy\\\"}\"}",
                "state": {
                    "datasourceMetaData": {
                        "filterableIndexPatterns": [
                            {
                                "id": "metricbeat-*",
                                "title": "metricbeat-*"
                            }
                        ]
                    },
                    "datasourceStates": {
                        "indexpattern": {
                            "currentIndexPatternId": "metricbeat-*",
                            "layers": {
                                "cbffa0b1-50bb-40fe-bd8d-6a26d2b58fb3": {
                                    "columnOrder": [
                                        "5d850e8e-f3e0-4ad2-9697-b8c00c03f753",
                                        "a1f5b3b8-41da-452b-8683-7a9ca6b6267f",
                                        "75188758-7734-4fc3-af1d-297c455715f0"
                                    ],
                                    "columns": {
                                        "5d850e8e-f3e0-4ad2-9697-b8c00c03f753": {
                                            "customLabel": true,
                                            "dataType": "string",
                                            "isBucketed": true,
                                            "label": "Service Name",
                                            "operationType": "terms",
                                            "params": {
                                                "orderBy": {
                                                    "columnId": "75188758-7734-4fc3-af1d-297c455715f0",
                                                    "type": "column"
                                                },
                                                "orderDirection": "desc",
                                                "size": 5
                                            },
                                            "scale": "ordinal",
                                            "sourceField": "aws.billing.group_by.SERVICE"
                                        },
                                        "75188758-7734-4fc3-af1d-297c455715f0": {
                                            "customLabel": true,
                                            "dataType": "number",
                                            "isBucketed": false,
                                            "label": "Total Unblended Cost",
                                            "operationType": "sum",
                                            "scale": "ratio",
                                            "sourceField": "aws.billing.UnblendedCost.amount"
                                        },
                                        "a1f5b3b8-41da-452b-8683-7a9ca6b6267f": {
                                            "dataType": "string",
                                            "isBucketed": true,
                                            "label": "Top values of aws.billing.group_by.aws:createdBy",
                                            "operationType": "terms",
                                            "params": {
                                                "orderBy": {
                                                    "columnId": "75188758-7734-4fc3-af1d-297c455715f0",
                                                    "type": "column"
                                                },
                                                "orderDirection": "desc",
                                                "size": 10
                                            },
                                            "scale": "ordinal",
                                            "sourceField": "aws.billing.group_by.aws:createdBy",
                                            "suggestedPriority": 0
                                        }
                                    },
                                    "indexPatternId": "metricbeat-*"
                                }
                            }
                        }
                    },
                    "filters": [],
                    "query": {
                        "language": "kuery",
                        "query": ""
                    },
                    "visualization": {
                        "fittingFunction": "None",
                        "layers": [
                            {
                                "accessors": [
                                    "75188758-7734-4fc3-af1d-297c455715f0"
                                ],
                                "layerId": "cbffa0b1-50bb-40fe-bd8d-6a26d2b58fb3",
                                "seriesType": "bar_stacked",
                                "splitAccessor": "a1f5b3b8-41da-452b-8683-7a9ca6b6267f",
                                "xAccessor": "5d850e8e-f3e0-4ad2-9697-b8c00c03f753"
                            }
                        ],
                        "legend": {
                            "isVisible": true,
                            "position": "right"
                        },
                        "preferredSeriesType": "bar_stacked"
                    }
                },
                "title": "Cost Per Service Per User [Metricbeat AWS]",
                "visualizationType": "lnsXY"
            },
            "id": "b3da5ac0-e6f1-11ea-a5b5-d5a0accaec95",
            "migrationVersion": {
                "lens": "7.8.0"
            },
            "namespaces": [
                "default"
            ],
            "references": [],
            "type": "lens",
            "updated_at": "2020-09-14T04:03:51.696Z",
            "version": "WzY0NzIsOF0="
        },
        {
            "attributes": {
                "description": "",
                "expression": "kibana\n| kibana_context  query=\"{\\\"query\\\":\\\"\\\",\\\"language\\\":\\\"kuery\\\"}\" filters=\"[]\"\n| lens_merge_tables layerIds=\"cbffa0b1-50bb-40fe-bd8d-6a26d2b58fb3\" \n  tables={esaggs index=\"metricbeat-*\" metricsAtAllLevels=true partialRows=true includeFormatHints=true  aggConfigs=\"[{\\\"id\\\":\\\"a1f5b3b8-41da-452b-8683-7a9ca6b6267f\\\",\\\"enabled\\\":true,\\\"type\\\":\\\"terms\\\",\\\"schema\\\":\\\"segment\\\",\\\"params\\\":{\\\"field\\\":\\\"aws.billing.group_by.aws:createdBy\\\",\\\"orderBy\\\":\\\"75188758-7734-4fc3-af1d-297c455715f0\\\",\\\"order\\\":\\\"desc\\\",\\\"size\\\":10,\\\"otherBucket\\\":false,\\\"otherBucketLabel\\\":\\\"Other\\\",\\\"missingBucket\\\":false,\\\"missingBucketLabel\\\":\\\"Missing\\\"}},{\\\"id\\\":\\\"75188758-7734-4fc3-af1d-297c455715f0\\\",\\\"enabled\\\":true,\\\"type\\\":\\\"sum\\\",\\\"schema\\\":\\\"metric\\\",\\\"params\\\":{\\\"field\\\":\\\"aws.billing.UnblendedCost.amount\\\",\\\"missing\\\":0}}]\" | lens_rename_columns idMap=\"{\\\"col-0-a1f5b3b8-41da-452b-8683-7a9ca6b6267f\\\":{\\\"label\\\":\\\"Top Users\\\",\\\"dataType\\\":\\\"string\\\",\\\"operationType\\\":\\\"terms\\\",\\\"scale\\\":\\\"ordinal\\\",\\\"suggestedPriority\\\":0,\\\"sourceField\\\":\\\"aws.billing.group_by.aws:createdBy\\\",\\\"isBucketed\\\":true,\\\"params\\\":{\\\"size\\\":10,\\\"orderBy\\\":{\\\"type\\\":\\\"column\\\",\\\"columnId\\\":\\\"75188758-7734-4fc3-af1d-297c455715f0\\\"},\\\"orderDirection\\\":\\\"desc\\\"},\\\"customLabel\\\":true,\\\"id\\\":\\\"a1f5b3b8-41da-452b-8683-7a9ca6b6267f\\\"},\\\"col-1-75188758-7734-4fc3-af1d-297c455715f0\\\":{\\\"label\\\":\\\"Total Unblended Cost\\\",\\\"dataType\\\":\\\"number\\\",\\\"operationType\\\":\\\"sum\\\",\\\"sourceField\\\":\\\"aws.billing.UnblendedCost.amount\\\",\\\"isBucketed\\\":false,\\\"scale\\\":\\\"ratio\\\",\\\"customLabel\\\":true,\\\"id\\\":\\\"75188758-7734-4fc3-af1d-297c455715f0\\\"}}\"}\n| lens_xy_chart xTitle=\"Top Users\" yTitle=\"Total Unblended Cost\" legend={lens_xy_legendConfig isVisible=true position=\"right\"} fittingFunction=\"None\" \n  layers={lens_xy_layer layerId=\"cbffa0b1-50bb-40fe-bd8d-6a26d2b58fb3\" hide=false xAccessor=\"a1f5b3b8-41da-452b-8683-7a9ca6b6267f\" yScaleType=\"linear\" xScaleType=\"ordinal\" isHistogram=false   seriesType=\"bar_horizontal\" accessors=\"75188758-7734-4fc3-af1d-297c455715f0\" columnToLabel=\"{\\\"75188758-7734-4fc3-af1d-297c455715f0\\\":\\\"Total Unblended Cost\\\"}\"}",
                "state": {
                    "datasourceMetaData": {
                        "filterableIndexPatterns": [
                            {
                                "id": "metricbeat-*",
                                "title": "metricbeat-*"
                            }
                        ]
                    },
                    "datasourceStates": {
                        "indexpattern": {
                            "currentIndexPatternId": "metricbeat-*",
                            "layers": {
                                "cbffa0b1-50bb-40fe-bd8d-6a26d2b58fb3": {
                                    "columnOrder": [
                                        "a1f5b3b8-41da-452b-8683-7a9ca6b6267f",
                                        "75188758-7734-4fc3-af1d-297c455715f0"
                                    ],
                                    "columns": {
                                        "75188758-7734-4fc3-af1d-297c455715f0": {
                                            "customLabel": true,
                                            "dataType": "number",
                                            "isBucketed": false,
                                            "label": "Total Unblended Cost",
                                            "operationType": "sum",
                                            "scale": "ratio",
                                            "sourceField": "aws.billing.UnblendedCost.amount"
                                        },
                                        "a1f5b3b8-41da-452b-8683-7a9ca6b6267f": {
                                            "customLabel": true,
                                            "dataType": "string",
                                            "isBucketed": true,
                                            "label": "Top Users",
                                            "operationType": "terms",
                                            "params": {
                                                "orderBy": {
                                                    "columnId": "75188758-7734-4fc3-af1d-297c455715f0",
                                                    "type": "column"
                                                },
                                                "orderDirection": "desc",
                                                "size": 10
                                            },
                                            "scale": "ordinal",
                                            "sourceField": "aws.billing.group_by.aws:createdBy",
                                            "suggestedPriority": 0
                                        }
                                    },
                                    "indexPatternId": "metricbeat-*"
                                }
                            }
                        }
                    },
                    "filters": [],
                    "query": {
                        "language": "kuery",
                        "query": ""
                    },
                    "visualization": {
                        "fittingFunction": "None",
                        "layers": [
                            {
                                "accessors": [
                                    "75188758-7734-4fc3-af1d-297c455715f0"
                                ],
                                "layerId": "cbffa0b1-50bb-40fe-bd8d-6a26d2b58fb3",
                                "seriesType": "bar_horizontal",
                                "xAccessor": "a1f5b3b8-41da-452b-8683-7a9ca6b6267f"
                            }
                        ],
                        "legend": {
                            "isVisible": true,
                            "position": "right"
                        },
                        "preferredSeriesType": "bar_horizontal"
                    }
                },
                "title": "High Spenders [Metricbeat AWS]",
                "visualizationType": "lnsXY"
            },
            "id": "d7b399c0-e6f1-11ea-a5b5-d5a0accaec95",
            "migrationVersion": {
                "lens": "7.8.0"
            },
            "namespaces": [
                "default"
            ],
            "references": [],
            "type": "lens",
            "updated_at": "2020-09-14T04:03:51.696Z",
            "version": "WzY0NzMsOF0="
        },
        {
            "attributes": {
                "description": "",
                "expression": "kibana\n| kibana_context  query=\"{\\\"query\\\":\\\"\\\",\\\"language\\\":\\\"kuery\\\"}\" filters=\"[]\"\n| lens_merge_tables layerIds=\"dc597043-d867-4f94-ae90-f31ffc0c2674\" \n  tables={esaggs index=\"metricbeat-*\" metricsAtAllLevels=true partialRows=true includeFormatHints=true timeFields=\"@timestamp\" aggConfigs=\"[{\\\"id\\\":\\\"ea87bf3d-0a35-424b-b00b-3614c431b135\\\",\\\"enabled\\\":true,\\\"type\\\":\\\"terms\\\",\\\"schema\\\":\\\"segment\\\",\\\"params\\\":{\\\"field\\\":\\\"aws.billing.ServiceName\\\",\\\"orderBy\\\":\\\"d54f4e58-d8dd-4404-8da9-12b667dd7910\\\",\\\"order\\\":\\\"desc\\\",\\\"size\\\":10,\\\"otherBucket\\\":false,\\\"otherBucketLabel\\\":\\\"Other\\\",\\\"missingBucket\\\":false,\\\"missingBucketLabel\\\":\\\"Missing\\\"}},{\\\"id\\\":\\\"faa5dba4-1fab-4f88-b67f-28bafa26a32d\\\",\\\"enabled\\\":true,\\\"type\\\":\\\"date_histogram\\\",\\\"schema\\\":\\\"segment\\\",\\\"params\\\":{\\\"field\\\":\\\"@timestamp\\\",\\\"useNormalizedEsInterval\\\":true,\\\"interval\\\":\\\"1d\\\",\\\"drop_partials\\\":false,\\\"min_doc_count\\\":0,\\\"extended_bounds\\\":{}}},{\\\"id\\\":\\\"d54f4e58-d8dd-4404-8da9-12b667dd7910\\\",\\\"enabled\\\":true,\\\"type\\\":\\\"avg\\\",\\\"schema\\\":\\\"metric\\\",\\\"params\\\":{\\\"field\\\":\\\"aws.billing.EstimatedCharges\\\",\\\"missing\\\":0}}]\" | lens_rename_columns idMap=\"{\\\"col-0-ea87bf3d-0a35-424b-b00b-3614c431b135\\\":{\\\"label\\\":\\\"Service Names\\\",\\\"dataType\\\":\\\"string\\\",\\\"operationType\\\":\\\"terms\\\",\\\"scale\\\":\\\"ordinal\\\",\\\"suggestedPriority\\\":0,\\\"sourceField\\\":\\\"aws.billing.ServiceName\\\",\\\"isBucketed\\\":true,\\\"params\\\":{\\\"size\\\":10,\\\"orderBy\\\":{\\\"type\\\":\\\"column\\\",\\\"columnId\\\":\\\"d54f4e58-d8dd-4404-8da9-12b667dd7910\\\"},\\\"orderDirection\\\":\\\"desc\\\"},\\\"customLabel\\\":true,\\\"id\\\":\\\"ea87bf3d-0a35-424b-b00b-3614c431b135\\\"},\\\"col-2-faa5dba4-1fab-4f88-b67f-28bafa26a32d\\\":{\\\"label\\\":\\\"@timestamp\\\",\\\"dataType\\\":\\\"date\\\",\\\"operationType\\\":\\\"date_histogram\\\",\\\"sourceField\\\":\\\"@timestamp\\\",\\\"isBucketed\\\":true,\\\"scale\\\":\\\"interval\\\",\\\"params\\\":{\\\"interval\\\":\\\"1d\\\"},\\\"id\\\":\\\"faa5dba4-1fab-4f88-b67f-28bafa26a32d\\\"},\\\"col-3-d54f4e58-d8dd-4404-8da9-12b667dd7910\\\":{\\\"label\\\":\\\"Estimated Charges\\\",\\\"dataType\\\":\\\"number\\\",\\\"operationType\\\":\\\"avg\\\",\\\"sourceField\\\":\\\"aws.billing.EstimatedCharges\\\",\\\"isBucketed\\\":false,\\\"scale\\\":\\\"ratio\\\",\\\"customLabel\\\":true,\\\"id\\\":\\\"d54f4e58-d8dd-4404-8da9-12b667dd7910\\\"}}\"}\n| lens_xy_chart xTitle=\"@timestamp\" yTitle=\"Estimated Charges\" legend={lens_xy_legendConfig isVisible=true position=\"right\"} fittingFunction=\"None\" \n  layers={lens_xy_layer layerId=\"dc597043-d867-4f94-ae90-f31ffc0c2674\" hide=false xAccessor=\"faa5dba4-1fab-4f88-b67f-28bafa26a32d\" yScaleType=\"linear\" xScaleType=\"time\" isHistogram=true splitAccessor=\"ea87bf3d-0a35-424b-b00b-3614c431b135\"  seriesType=\"line\" accessors=\"d54f4e58-d8dd-4404-8da9-12b667dd7910\" columnToLabel=\"{\\\"d54f4e58-d8dd-4404-8da9-12b667dd7910\\\":\\\"Estimated Charges\\\",\\\"ea87bf3d-0a35-424b-b00b-3614c431b135\\\":\\\"Service Names\\\"}\"}",
                "state": {
                    "datasourceMetaData": {
                        "filterableIndexPatterns": [
                            {
                                "id": "metricbeat-*",
                                "title": "metricbeat-*"
                            }
                        ]
                    },
                    "datasourceStates": {
                        "indexpattern": {
                            "currentIndexPatternId": "metricbeat-*",
                            "layers": {
                                "dc597043-d867-4f94-ae90-f31ffc0c2674": {
                                    "columnOrder": [
                                        "ea87bf3d-0a35-424b-b00b-3614c431b135",
                                        "faa5dba4-1fab-4f88-b67f-28bafa26a32d",
                                        "d54f4e58-d8dd-4404-8da9-12b667dd7910"
                                    ],
                                    "columns": {
                                        "d54f4e58-d8dd-4404-8da9-12b667dd7910": {
                                            "customLabel": true,
                                            "dataType": "number",
                                            "isBucketed": false,
                                            "label": "Estimated Charges",
                                            "operationType": "avg",
                                            "scale": "ratio",
                                            "sourceField": "aws.billing.EstimatedCharges"
                                        },
                                        "ea87bf3d-0a35-424b-b00b-3614c431b135": {
                                            "customLabel": true,
                                            "dataType": "string",
                                            "isBucketed": true,
                                            "label": "Service Names",
                                            "operationType": "terms",
                                            "params": {
                                                "orderBy": {
                                                    "columnId": "d54f4e58-d8dd-4404-8da9-12b667dd7910",
                                                    "type": "column"
                                                },
                                                "orderDirection": "desc",
                                                "size": 10
                                            },
                                            "scale": "ordinal",
                                            "sourceField": "aws.billing.ServiceName",
                                            "suggestedPriority": 0
                                        },
                                        "faa5dba4-1fab-4f88-b67f-28bafa26a32d": {
                                            "dataType": "date",
                                            "isBucketed": true,
                                            "label": "@timestamp",
                                            "operationType": "date_histogram",
                                            "params": {
                                                "interval": "1d"
                                            },
                                            "scale": "interval",
                                            "sourceField": "@timestamp"
                                        }
                                    },
                                    "indexPatternId": "metricbeat-*"
                                }
                            }
                        }
                    },
                    "filters": [],
                    "query": {
                        "language": "kuery",
                        "query": ""
                    },
                    "visualization": {
                        "fittingFunction": "None",
                        "layers": [
                            {
                                "accessors": [
                                    "d54f4e58-d8dd-4404-8da9-12b667dd7910"
                                ],
                                "layerId": "dc597043-d867-4f94-ae90-f31ffc0c2674",
                                "position": "top",
                                "seriesType": "line",
                                "showGridlines": false,
                                "splitAccessor": "ea87bf3d-0a35-424b-b00b-3614c431b135",
                                "xAccessor": "faa5dba4-1fab-4f88-b67f-28bafa26a32d"
                            }
                        ],
                        "legend": {
                            "isVisible": true,
                            "position": "right"
                        },
                        "preferredSeriesType": "line"
                    }
                },
                "title": "Top 10 Estimated Charges per Service Name [Metricbeat AWS]",
                "visualizationType": "lnsXY"
            },
            "id": "cde34840-e6f2-11ea-a5b5-d5a0accaec95",
            "migrationVersion": {
                "lens": "7.8.0"
            },
            "namespaces": [
                "default"
            ],
            "references": [],
            "type": "lens",
            "updated_at": "2020-09-14T04:03:51.696Z",
            "version": "WzY0NzQsOF0="
        },
        {
            "attributes": {
                "description": "",
                "kibanaSavedObjectMeta": {
                    "searchSourceJSON": "{\"query\": {\"language\": \"kuery\", \"query\": \"\"}, \"filter\": []}"
                },
                "title": "Daily Unblended Cost [Metricbeat AWS]",
                "uiStateJSON": "{}",
                "version": 1,
                "visState": "{\"aggs\": [], \"type\": \"metrics\", \"title\": \"Daily Unblended Cost [Metricbeat AWS]\", \"params\": {\"default_index_pattern\": \"metricbeat-*\", \"time_field\": \"@timestamp\", \"axis_formatter\": \"number\", \"show_legend\": 1, \"filter\": {\"language\": \"kuery\", \"query\": \"aws.billing.group_definition.key : \\\"AZ\\\"\"}, \"isModelInvalid\": false, \"id\": \"61ca57f0-469d-11e7-af02-69e470af7417\", \"index_pattern\": \"metricbeat-*\", \"drop_last_bucket\": 0, \"interval\": \">=1d\", \"axis_scale\": \"normal\", \"axis_position\": \"left\", \"default_timefield\": \"@timestamp\", \"type\": \"timeseries\", \"tooltip_mode\": \"show_all\", \"series\": [{\"split_color_mode\": \"kibana\", \"color\": \"rgba(118,208,7,1)\", \"filter\": {\"language\": \"kuery\", \"query\": \"aws.billing.group_definition.key : \\\"AZ\\\"\"}, \"line_width\": 1, \"axis_position\": \"right\", \"id\": \"61ca57f1-469d-11e7-af02-69e470af7417\", \"hide_in_legend\": 1, \"stacked\": \"none\", \"type\": \"timeseries\", \"split_mode\": \"filter\", \"metrics\": [{\"type\": \"sum\", \"field\": \"aws.billing.UnblendedCost.amount\", \"id\": \"61ca57f2-469d-11e7-af02-69e470af7417\"}], \"separate_axis\": 0, \"point_size\": 1, \"chart_type\": \"bar\", \"fill\": \"1\", \"formatter\": \"number\", \"label\": \"Total Unblended Cost\"}], \"show_grid\": 0}}"
            },
            "id": "3e091620-e64b-11ea-a838-3f4a45f85600",
            "migrationVersion": {
                "visualization": "7.8.0"
            },
            "namespaces": [
                "default"
            ],
            "references": [],
            "type": "visualization",
            "updated_at": "2020-09-14T04:03:51.696Z",
            "version": "WzY0NzUsOF0="
        }
    ],
    "version": "7.9.0"
}