<!DOCTYPE html>
<html>
  <!-- Mirrored from notes-for-great-good.netlify.app/cs9-auth-ii-guided-demo-i/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 03 Sep 2021 11:37:28 GMT -->
  <!-- Added by HTTrack --><meta
    http-equiv="content-type"
    content="text/html;charset=UTF-8"
  /><!-- /Added by HTTrack -->
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <style id="typography.js">
      html {
        font-family: sans-serif;
        -ms-text-size-adjust: 100%;
        -webkit-text-size-adjust: 100%;
      }
      body {
        margin: 0;
      }
      article,
      aside,
      details,
      figcaption,
      figure,
      footer,
      header,
      main,
      menu,
      nav,
      section,
      summary {
        display: block;
      }
      audio,
      canvas,
      progress,
      video {
        display: inline-block;
      }
      audio:not([controls]) {
        display: none;
        height: 0;
      }
      progress {
        vertical-align: baseline;
      }
      [hidden],
      template {
        display: none;
      }
      a {
        background-color: transparent;
        -webkit-text-decoration-skip: objects;
      }
      a:active,
      a:hover {
        outline-width: 0;
      }
      abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        text-decoration: underline dotted;
      }
      b,
      strong {
        font-weight: inherit;
        font-weight: bolder;
      }
      dfn {
        font-style: italic;
      }
      h1 {
        font-size: 2em;
        margin: 0.67em 0;
      }
      mark {
        background-color: #ff0;
        color: #000;
      }
      small {
        font-size: 80%;
      }
      sub,
      sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }
      sub {
        bottom: -0.25em;
      }
      sup {
        top: -0.5em;
      }
      img {
        border-style: none;
      }
      svg:not(:root) {
        overflow: hidden;
      }
      code,
      kbd,
      pre,
      samp {
        font-family: monospace, monospace;
        font-size: 1em;
      }
      figure {
        margin: 1em 40px;
      }
      hr {
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }
      button,
      input,
      optgroup,
      select,
      textarea {
        font: inherit;
        margin: 0;
      }
      optgroup {
        font-weight: 700;
      }
      button,
      input {
        overflow: visible;
      }
      button,
      select {
        text-transform: none;
      }
      [type="reset"],
      [type="submit"],
      button,
      html [type="button"] {
        -webkit-appearance: button;
      }
      [type="button"]::-moz-focus-inner,
      [type="reset"]::-moz-focus-inner,
      [type="submit"]::-moz-focus-inner,
      button::-moz-focus-inner {
        border-style: none;
        padding: 0;
      }
      [type="button"]:-moz-focusring,
      [type="reset"]:-moz-focusring,
      [type="submit"]:-moz-focusring,
      button:-moz-focusring {
        outline: 1px dotted ButtonText;
      }
      fieldset {
        border: 1px solid silver;
        margin: 0 2px;
        padding: 0.35em 0.625em 0.75em;
      }
      legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }
      textarea {
        overflow: auto;
      }
      [type="checkbox"],
      [type="radio"] {
        box-sizing: border-box;
        padding: 0;
      }
      [type="number"]::-webkit-inner-spin-button,
      [type="number"]::-webkit-outer-spin-button {
        height: auto;
      }
      [type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }
      [type="search"]::-webkit-search-cancel-button,
      [type="search"]::-webkit-search-decoration {
        -webkit-appearance: none;
      }
      ::-webkit-input-placeholder {
        color: inherit;
        opacity: 0.54;
      }
      ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }
      html {
        font: 112.5%/1.45 "Open Sans", -apple-system, "BlinkMacSystemFont",
          "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif;
        box-sizing: border-box;
        overflow-y: scroll;
      }
      * {
        box-sizing: inherit;
      }
      *:before {
        box-sizing: inherit;
      }
      *:after {
        box-sizing: inherit;
      }
      body {
        color: hsla(0, 0%, 0%, 0.8);
        font-family: "Open Sans", -apple-system, "BlinkMacSystemFont",
          "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif;
        font-weight: normal;
        word-wrap: break-word;
        font-kerning: normal;
        -moz-font-feature-settings: "kern", "liga", "clig", "calt";
        -ms-font-feature-settings: "kern", "liga", "clig", "calt";
        -webkit-font-feature-settings: "kern", "liga", "clig", "calt";
        font-feature-settings: "kern", "liga", "clig", "calt";
      }
      img {
        max-width: 100%;
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
      }
      h1 {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
        color: inherit;
        font-family: "Candal", -apple-system, "BlinkMacSystemFont", "Segoe UI",
          "Roboto", "Helvetica", "Arial", sans-serif;
        font-weight: 500;
        text-rendering: optimizeLegibility;
        font-size: 2rem;
        line-height: 1.1;
      }
      h2 {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
        color: inherit;
        font-family: "Candal", -apple-system, "BlinkMacSystemFont", "Segoe UI",
          "Roboto", "Helvetica", "Arial", sans-serif;
        font-weight: 500;
        text-rendering: optimizeLegibility;
        font-size: 1.51572rem;
        line-height: 1.1;
      }
      h3 {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
        color: inherit;
        font-family: "Candal", -apple-system, "BlinkMacSystemFont", "Segoe UI",
          "Roboto", "Helvetica", "Arial", sans-serif;
        font-weight: 500;
        text-rendering: optimizeLegibility;
        font-size: 1.31951rem;
        line-height: 1.1;
      }
      h4 {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
        color: inherit;
        font-family: "Candal", -apple-system, "BlinkMacSystemFont", "Segoe UI",
          "Roboto", "Helvetica", "Arial", sans-serif;
        font-weight: 500;
        text-rendering: optimizeLegibility;
        font-size: 1rem;
        line-height: 1.1;
      }
      h5 {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
        color: inherit;
        font-family: "Candal", -apple-system, "BlinkMacSystemFont", "Segoe UI",
          "Roboto", "Helvetica", "Arial", sans-serif;
        font-weight: 500;
        text-rendering: optimizeLegibility;
        font-size: 0.87055rem;
        line-height: 1.1;
      }
      h6 {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
        color: inherit;
        font-family: "Candal", -apple-system, "BlinkMacSystemFont", "Segoe UI",
          "Roboto", "Helvetica", "Arial", sans-serif;
        font-weight: 500;
        text-rendering: optimizeLegibility;
        font-size: 0.81225rem;
        line-height: 1.1;
      }
      hgroup {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
      }
      ul {
        margin-left: 1.45rem;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
        list-style-position: outside;
        list-style-image: none;
      }
      ol {
        margin-left: 1.45rem;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
        list-style-position: outside;
        list-style-image: none;
      }
      dl {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
      }
      dd {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
      }
      p {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
      }
      figure {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
      }
      pre {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
        font-size: 0.85rem;
        line-height: 1.45rem;
      }
      table {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
        font-size: 1rem;
        line-height: 1.45rem;
        border-collapse: collapse;
        width: 100%;
      }
      fieldset {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
      }
      blockquote {
        margin-left: 1.45rem;
        margin-right: 1.45rem;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
      }
      form {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
      }
      noscript {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
      }
      iframe {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
      }
      hr {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: calc(1.45rem - 1px);
        background: hsla(0, 0%, 0%, 0.2);
        border: none;
        height: 1px;
      }
      address {
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        padding-bottom: 0;
        padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        margin-bottom: 1.45rem;
      }
      b {
        font-weight: bold;
      }
      strong {
        font-weight: bold;
      }
      dt {
        font-weight: bold;
      }
      th {
        font-weight: bold;
      }
      li {
        margin-bottom: calc(1.45rem / 2);
      }
      ol li {
        padding-left: 0;
      }
      ul li {
        padding-left: 0;
      }
      li > ol {
        margin-left: 1.45rem;
        margin-bottom: calc(1.45rem / 2);
        margin-top: calc(1.45rem / 2);
      }
      li > ul {
        margin-left: 1.45rem;
        margin-bottom: calc(1.45rem / 2);
        margin-top: calc(1.45rem / 2);
      }
      blockquote *:last-child {
        margin-bottom: 0;
      }
      li *:last-child {
        margin-bottom: 0;
      }
      p *:last-child {
        margin-bottom: 0;
      }
      li > p {
        margin-bottom: calc(1.45rem / 2);
      }
      code {
        font-size: 0.85rem;
        line-height: 1.45rem;
      }
      kbd {
        font-size: 0.85rem;
        line-height: 1.45rem;
      }
      samp {
        font-size: 0.85rem;
        line-height: 1.45rem;
      }
      abbr {
        border-bottom: 1px dotted hsla(0, 0%, 0%, 0.5);
        cursor: help;
      }
      acronym {
        border-bottom: 1px dotted hsla(0, 0%, 0%, 0.5);
        cursor: help;
      }
      abbr[title] {
        border-bottom: 1px dotted hsla(0, 0%, 0%, 0.5);
        cursor: help;
        text-decoration: none;
      }
      thead {
        text-align: left;
      }
      td,
      th {
        text-align: left;
        border-bottom: 1px solid hsla(0, 0%, 0%, 0.12);
        font-feature-settings: "tnum";
        -moz-font-feature-settings: "tnum";
        -ms-font-feature-settings: "tnum";
        -webkit-font-feature-settings: "tnum";
        padding-left: 0.96667rem;
        padding-right: 0.96667rem;
        padding-top: 0.725rem;
        padding-bottom: calc(0.725rem - 1px);
      }
      th:first-child,
      td:first-child {
        padding-left: 0;
      }
      th:last-child,
      td:last-child {
        padding-right: 0;
      }
    </style>
    <link
      rel="apple-touch-icon"
      sizes="96x96"
      href="../icons/icon-96x96c6b6.png?v=9668d14baa2fedfee7875f4801ea5d85"
    />
    <title data-react-helmet="true"></title>
    <style data-href="/styles.d86a406e5dede3da8914.css">
      .container-wrapper {
        text-align: center;
        margin: auto;
        width: 60%;
        min-height: calc(100vh - 310px);
        flex: 1 1;
      }
      .container-wrapper section {
        padding: 3rem 1.5rem;
      }
      @media (max-width: 900px) {
        .container-wrapper {
          width: 90%;
          min-height: calc(100vh - 360px);
        }
      }
      @media (max-width: 600px) {
        .container-wrapper {
          width: 95%;
        }
      }
      code[class*="language-"],
      pre[class*="language-"] {
        color: #ccc;
        font-size: 1em;
        white-space: pre;
        word-break: normal;
      }
      pre[class*="language-"] {
        margin: 0.5em 0;
      }
      :not(pre) > code[class*="language-"],
      pre[class*="language-"] {
        background: #2d2d2d;
      }
      :not(pre) > code[class*="language-"] {
        padding: 0.1em;
        border-radius: 0.3em;
        white-space: normal;
      }
      .token.block-comment,
      .token.cdata,
      .token.comment,
      .token.doctype,
      .token.prolog {
        color: #999;
      }
      .token.punctuation {
        color: #ccc;
      }
      .token.attr-name,
      .token.deleted,
      .token.namespace,
      .token.tag {
        color: #e2777a;
      }
      .token.function-name {
        color: #6196cc;
      }
      .token.boolean,
      .token.function,
      .token.number {
        color: #f08d49;
      }
      .token.class-name,
      .token.constant,
      .token.property,
      .token.symbol {
        color: #f8c555;
      }
      .token.atrule,
      .token.builtin,
      .token.important,
      .token.keyword,
      .token.selector {
        color: #cc99cd;
      }
      .token.attr-value,
      .token.char,
      .token.regex,
      .token.string,
      .token.variable {
        color: #7ec699;
      }
      .token.entity,
      .token.operator,
      .token.url {
        color: #67cdcc;
      }
      .token.inserted {
        color: green;
      }
      li > code,
      p > code {
        background: #131316;
        word-break: normal;
        padding: 0.4em 0.5em;
        margin: 0.5em 0;
        overflow: auto;
        border-radius: 0.3em;
      }
      code[class*="language-"],
      li > code,
      p > code,
      pre[class*="language-"] {
        color: #f8f8f2;
        font-family: Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace;
        text-align: left;
        word-spacing: normal;
        word-wrap: normal;
        line-height: 1.5;
        -moz-tab-size: 4;
        -o-tab-size: 4;
        tab-size: 4;
        -webkit-hyphens: none;
        -ms-hyphens: none;
        hyphens: none;
      }
      code[class*="language-"],
      pre[class*="language-"] {
        background: none;
        word-break: break-word;
      }
      pre[class*="language-"] {
        padding: 1em;
        margin: 1.5rem 0;
        overflow: auto;
        border-radius: 0.3em;
        background: #131316;
      }
      pre[class*="language-"]::-webkit-scrollbar-thumb {
        background: #3498db;
      }
      pre[class*="language-"]::-webkit-scrollbar-track {
        background: #4b4e57;
      }
      pre[class*="language-"]::-webkit-scrollbar {
        width: 12px;
        height: 12px;
      }
      li > code[class*="language-"],
      p > code[class*="language-"] {
        border-radius: 0.3em;
        background: rgba(52, 152, 219, 0.2);
        color: #2e3246;
        bottom: 2px;
        position: relative;
      }
      img {
        margin-bottom: 0;
      }
      .token.operator {
        color: #bc78d7;
      }
      .token.cdata,
      .token.comment,
      .token.doctype,
      .token.prolog {
        color: #708090;
      }
      .token.punctuation {
        color: #7ad7e2;
      }
      .namespace {
        opacity: 0.7;
      }
      .token.constant,
      .token.deleted,
      .token.property,
      .token.symbol,
      .token.tag {
        color: #ef514f;
      }
      .token.boolean,
      .token.number {
        color: #ae81ff;
      }
      .token.attr-name,
      .token.builtin,
      .token.char,
      .token.inserted,
      .token.selector,
      .token.string {
        color: #e5db89;
      }
      .language-css .token.string,
      .style .token.string,
      .token.entity,
      .token.url,
      .token.variable {
        color: #f8f8f2;
      }
      .token.atrule,
      .token.attr-value,
      .token.class-name {
        color: #e6db74;
      }
      .token.function {
        color: #84c16a;
      }
      .token.keyword {
        color: #6095ea;
      }
      .token.important,
      .token.regex {
        color: #fd971f;
      }
      .token.bold,
      .token.important {
        font-weight: 700;
      }
      .token.italic {
        font-style: italic;
      }
      .token.entity {
        cursor: help;
      }
      .table {
        overflow: auto;
        max-width: -webkit-fit-content;
        max-width: -moz-fit-content;
        max-width: fit-content;
        margin: auto;
      }
      .gatsby-highlight pre[class*="language-"].line-numbers {
        padding-left: 2.8em;
      }
      .gatsby-highlight {
        border-radius: 0.3em;
        margin: 0.5em 0;
        padding: 1em;
        overflow: auto;
      }
      .gatsby-highlight pre[class*="language-"].line-numbers {
        padding: 0 0 0 2.8em;
        overflow: initial;
      }
      .gatsby-highlight
        pre[class*="language-"].line-numbers
        span.line-numbers-rows {
        width: 3em !important;
      }
      .language-asm,
      .language-racket,
      .language-text {
        -webkit-margin-start: 15px;
        margin-inline-start: 15px;
        display: flex;
      }
      code.language-html,
      code.language-javascript,
      code.language-md,
      code.language-ruby {
        left: 15px;
      }
      section.wrapper div.gatsby-highlight,
      section.wrapper div.tagsContainer {
        padding: 0;
      }
      pre[class*="language-"].line-numbers {
        position: relative;
        padding-left: 3.8em;
        counter-reset: linenumber;
      }
      pre[class*="language-"].line-numbers > code {
        position: relative;
        white-space: inherit;
      }
      .line-numbers .line-numbers-rows {
        position: absolute;
        pointer-events: none;
        top: 0;
        font-size: 100%;
        left: -3.8em;
        width: 3em;
        letter-spacing: -1px;
        border-right: 1px solid #999;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      .line-numbers-rows > span {
        pointer-events: none;
        display: block;
        counter-increment: linenumber;
      }
      .line-numbers-rows > span:before {
        content: counter(linenumber);
        color: #999;
        display: block;
        padding-right: 0.8em;
        text-align: right;
      }
      .content-wrapper li,
      .content-wrapper p {
        letter-spacing: -0.003em;
        --baseline-multiplier: 0.179;
        --x-height-multiplier: 0.35;
        font-size: 1.15rem;
        line-height: 2;
      }
      .content-wrapper li code {
        padding: 0.2rem 0.5rem;
        margin: 0.5rem 0;
      }
      .content-wrapper a:not(.gatsby-resp-image-link):not(.anchor) {
        color: #000;
        box-shadow: inset 0 -2px 0 #3498db;
        border-bottom: 1px solid #3498db;
        -webkit-transition: all 0.4s cubic-bezier(0.645, 0.045, 0.355, 1);
        transition: all 0.4s cubic-bezier(0.645, 0.045, 0.355, 1);
        text-decoration: none;
      }
      .content-wrapper a:not(.gatsby-resp-image-link):not(.anchor):focus,
      .content-wrapper a:not(.gatsby-resp-image-link):not(.anchor):hover {
        background: rgba(51, 68, 153, 0.53);
        color: #000;
      }
      .wrapper h1 {
        margin-top: 3rem;
      }
      .wrapper h2 {
        margin-top: 1rem;
      }
      .wrapper h1,
      .wrapper h2,
      .wrapper h3,
      .wrapper h4,
      .wrapper h5,
      .wrapper h6 {
        display: inline-block;
        position: relative;
      }
      .wrapper h1 a,
      .wrapper h2 a,
      .wrapper h3 a,
      .wrapper h4 a,
      .wrapper h5 a,
      .wrapper h6 a {
        box-shadow: none;
        border-bottom: none;
      }
      .wrapper h1 a:focus,
      .wrapper h1 a:hover,
      .wrapper h2 a:focus,
      .wrapper h2 a:hover,
      .wrapper h3 a:focus,
      .wrapper h3 a:hover,
      .wrapper h4 a:focus,
      .wrapper h4 a:hover,
      .wrapper h5 a:focus,
      .wrapper h5 a:hover,
      .wrapper h6 a:focus,
      .wrapper h6 a:hover {
        background: none;
      }
      .wrapper:hover .anchor svg {
        opacity: 0.8;
      }
      .footer-wrapper {
        position: static;
        height: 60px;
        width: 100%;
        justify-content: center;
        bottom: 0;
        box-shadow: 0 -3px 26px rgba(0, 0, 0, 0.5);
        background: linear-gradient(-45deg, #3e5fbc, #284187);
        font-family: OpenSans, -apple-system, BlinkMacSystemFont, Segoe UI,
          Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji,
          Segoe UI Emoji, Segoe UI Symbol;
        font-weight: 500;
      }
      .footer-text {
        margin: 0;
        padding-top: 15px;
        padding-bottom: 15px;
        justify-content: center;
        display: flex;
        text-align: center;
        color: #f0f0f0;
      }
      .footer-text a {
        color: #62fdfe;
        font-weight: 700;
        margin: 0 15px;
      }
      .footer-text span {
        color: transparent;
        display: flex;
        flex-direction: row;
        align-items: center;
        text-shadow: 0 0 0 #fff;
      }
      @font-face {
        font-family: Open Sans;
        font-style: normal;
        font-display: swap;
        font-weight: 300;
        src: local("Open Sans Light "), local("Open Sans-Light"),
          url(../static/open-sans-latin-300-60c866748ff15f5b347fdba64596b1b1.woff2)
            format("woff2"),
          url(../static/open-sans-latin-300-521d17bc9f3526c690e8ada6eee55bec.woff)
            format("woff");
      }
      @font-face {
        font-family: Open Sans;
        font-style: italic;
        font-display: swap;
        font-weight: 300;
        src: local("Open Sans Light italic"), local("Open Sans-Lightitalic"),
          url(../static/open-sans-latin-300italic-06bbd3188b34820cd83a0e0b3d0a6f57.woff2)
            format("woff2"),
          url(../static/open-sans-latin-300italic-8a648ff38ded89ea15916e84529d62d3.woff)
            format("woff");
      }
      @font-face {
        font-family: Open Sans;
        font-style: normal;
        font-display: swap;
        font-weight: 400;
        src: local("Open Sans Regular "), local("Open Sans-Regular"),
          url(../static/open-sans-latin-400-cffb686d7d2f4682df8342bd4d276e09.woff2)
            format("woff2"),
          url(../static/open-sans-latin-400-bf2d0783515b7d75c35bde69e01b3135.woff)
            format("woff");
      }
      @font-face {
        font-family: Open Sans;
        font-style: italic;
        font-display: swap;
        font-weight: 400;
        src: local("Open Sans Regular italic"), local("Open Sans-Regularitalic"),
          url(../static/open-sans-latin-400italic-987032ea5d57c93d8da215678eae3b86.woff2)
            format("woff2"),
          url(../static/open-sans-latin-400italic-db70d0b9cb27ada1a260a2b35e756b8b.woff)
            format("woff");
      }
      @font-face {
        font-family: Open Sans;
        font-style: normal;
        font-display: swap;
        font-weight: 600;
        src: local("Open Sans SemiBold "), local("Open Sans-SemiBold"),
          url(../static/open-sans-latin-600-223a277bd88d8a90c8cdf24cda0ad5f5.woff2)
            format("woff2"),
          url(../static/open-sans-latin-600-1cd5320f8937d337b61d5117cf9d7b28.woff)
            format("woff");
      }
      @font-face {
        font-family: Open Sans;
        font-style: italic;
        font-display: swap;
        font-weight: 600;
        src: local("Open Sans SemiBold italic"),
          local("Open Sans-SemiBolditalic"),
          url(../static/open-sans-latin-600italic-4950a7205f0b5cefe41fc03ac346e236.woff2)
            format("woff2"),
          url(../static/open-sans-latin-600italic-318ea1ada4102c0704a0637228dcad03.woff)
            format("woff");
      }
      @font-face {
        font-family: Open Sans;
        font-style: normal;
        font-display: swap;
        font-weight: 700;
        src: local("Open Sans Bold "), local("Open Sans-Bold"),
          url(../static/open-sans-latin-700-d08c09f2f169f4a6edbcf8b8d1636cb4.woff2)
            format("woff2"),
          url(../static/open-sans-latin-700-623e3205570002af47fc2b88f9335d19.woff)
            format("woff");
      }
      @font-face {
        font-family: Open Sans;
        font-style: italic;
        font-display: swap;
        font-weight: 700;
        src: local("Open Sans Bold italic"), local("Open Sans-Bolditalic"),
          url(../static/open-sans-latin-700italic-c02f5da6e82e1efe0b45841bfd49ce37.woff2)
            format("woff2"),
          url(../static/open-sans-latin-700italic-72e19cbb0e38c6773a7751156752cec4.woff)
            format("woff");
      }
      @font-face {
        font-family: Open Sans;
        font-style: normal;
        font-display: swap;
        font-weight: 800;
        src: local("Open Sans ExtraBold "), local("Open Sans-ExtraBold"),
          url(../static/open-sans-latin-800-aaeffaf205b9bbb09920089a14dbe9e8.woff2)
            format("woff2"),
          url(../static/open-sans-latin-800-c6aa0c4a601fb6ac66f8253fa594dff5.woff)
            format("woff");
      }
      @font-face {
        font-family: Open Sans;
        font-style: italic;
        font-display: swap;
        font-weight: 800;
        src: local("Open Sans ExtraBold italic"),
          local("Open Sans-ExtraBolditalic"),
          url(../static/open-sans-latin-800italic-6b3973ffe02bb6a8be0f8453506ec032.woff2)
            format("woff2"),
          url(../static/open-sans-latin-800italic-79b58175343190550489efe46a7f1138.woff)
            format("woff");
      }
      article {
        padding: 3rem 1.5rem;
      }
      .bloglist-image {
        margin: auto;
        position: relative;
        box-shadow: 0 15px 25px rgba(0, 0, 0, 0.2);
        -webkit-transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        border-radius: 0.4rem;
        min-height: 300px;
        flex-basis: 100%;
        max-width: 100%;
        width: 100%;
      }
      @media (max-width: 800px) {
        .bloglist-image {
          flex-basis: 100%;
          max-width: 100%;
          width: 100%;
          margin-bottom: 1.5rem;
        }
      }
      @media (max-width: 500px) {
        .bloglist-image {
          min-height: 200px;
        }
      }
      .bloglist-image img {
        border-radius: 0.4rem;
        height: 100%;
        width: 100%;
      }
      .bloglist-image:hover {
        box-shadow: 0 40px 45px rgba(0, 0, 0, 0.1);
        -webkit-transform: scale(1.04);
        transform: scale(1.04);
      }
      .bloglist-image a {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        border-radius: 0.4rem;
      }
      .bloglist-image a > div,
      .bloglist-image a > div > div {
        position: static !important;
      }
      .bloglist-image a > div > div:focus {
        outline: none;
        box-shadow: 0 0 0 5px #284187;
      }
      .bloglist-information h1 {
        display: inline-block;
        color: #333438;
        -webkit-transition: all 0.4s;
        transition: all 0.4s;
      }
      .bloglist-information h1:hover {
        color: #3498db;
      }
      .bloglist-information {
        text-align: center;
        flex-basis: 100%;
        max-width: 100%;
        word-wrap: break-word;
        word-break: break-word;
        width: 100%;
      }
      @media (max-width: 800px) {
        .bloglist-information {
          flex-basis: 100%;
          max-width: 100%;
          width: 100%;
        }
      }
      .bloglist-date {
        margin-top: 1rem;
        font-size: 12px;
        color: #4b4e57;
      }
      .bloglist-title {
        margin: 0;
        font-size: 24px;
      }
      @font-face {
        font-family: Candal;
        font-style: normal;
        font-display: swap;
        font-weight: 400;
        src: local("Candal Regular "), local("Candal-Regular"),
          url(../static/candal-latin-400-be36f832d599fa7c57c638a610ce6e2e.woff2)
            format("woff2"),
          url(../static/candal-latin-400-089f55042fcefeb66b9e98cdd0eb37ca.woff)
            format("woff");
      }
      .header-wrapper {
        -webkit-clip-path: polygon(100% 0, 0 0, 0 70%, 50% 100%, 100% 70%);
        clip-path: polygon(100% 0, 0 0, 0 70%, 50% 100%, 100% 70%);
        background: linear-gradient(45deg, #3e5fbc, #284187);
        height: 250px;
        position: relative;
        overflow: hidden;
      }
      @media (max-width: 600px) {
        .header-wrapper {
          -webkit-clip-path: polygon(100% 0, 0 0, 0 90%, 50% 100%, 100% 90%);
          clip-path: polygon(100% 0, 0 0, 0 90%, 50% 100%, 100% 90%);
        }
      }
      .header-text {
        color: #fff;
        z-index: 0;
        position: absolute;
        top: 50%;
        left: 50%;
        height: inherit;
        -webkit-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        display: flex;
        flex-direction: column;
        text-align: center;
        width: 100%;
        max-width: 70rem;
        margin-top: 3rem;
        align-items: center;
      }
      .header-text h1 {
        font-size: 28px;
        margin: 20px 0 5px;
        padding: 0 2rem;
      }
      .header-text h2 {
        font-size: 22px;
        padding: 0;
        margin: 2.5px 0 5px;
      }
      .header-text h3 {
        font-size: 20px;
        margin: 2.5px 0;
        padding: 0 2rem;
      }
      .header-text h4 {
        font-size: 14px;
        margin: 5px 0;
        padding: 0 2rem;
      }
      .header-subtitle {
        max-width: 650px;
        color: #f0f0f0;
        margin-top: 30px;
        padding: 0 2rem;
      }
      .headroom-wrapper {
        position: fixed;
        height: 102px;
        z-index: 2000;
        top: 0;
      }
      .headroom {
        display: flex;
        justify-content: space-between;
        flex-direction: row;
        width: 100vw;
        height: 2.5rem;
      }
      .headroom svg {
        padding: 1rem 1.5rem;
      }
      .headroom svg g {
        fill: #fff;
      }
      .headroom--unfixed {
        position: relative;
        padding-left: 15px;
        padding-top: 15px;
        justify-content: space-between;
        -webkit-transform: translateY(0);
        transform: translateY(0);
      }
      .headroom--scrolled,
      .headroom--unfixed {
        -webkit-transition: all 0.25s ease-in-out;
        transition: all 0.25s ease-in-out;
      }
      .headroom--unpinned {
        padding-left: 15px;
        padding-top: 15px;
        -webkit-transform: translateY(-100%);
        transform: translateY(-100%);
      }
      .headroom--pinned,
      .headroom--unpinned {
        position: fixed;
        -webkit-transition: all 0.25s ease-in-out;
        transition: all 0.25s ease-in-out;
      }
      .headroom--pinned {
        padding: 15px 0 15px 15px;
        -webkit-transform: translateY(0);
        transform: translateY(0);
        background-color: #3e5fbc;
        box-shadow: 0 5px 30px rgba(0, 0, 0, 0.2);
      }
      .headroom--pinned nav a {
        color: #fff;
      }
      .headroom--pinned nav a:hover {
        border-color: #333438;
        color: #333438;
      }
      .headroom--pinned nav a:focus {
        color: #333438;
      }
      .headroom--pinned svg {
        height: 2.5rem;
      }
      .headroom---pinned svg g {
        fill: #333438;
      }
      .headroom--pinned span {
        color: #333438;
      }
      .postlist-wrapper {
        margin-bottom: 2rem;
        position: relative;
        z-index: 100;
        border-radius: 0.4rem;
        box-shadow: 0 15px 25px rgba(0, 0, 0, 0.2);
        -webkit-transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        height: 17rem;
        flex-basis: calc(33.3% - 2.5rem);
        max-width: calc(33.3% - 2.5rem);
        width: calc(33.3% - 2.5rem);
      }
      .postlist-wrapper:hover {
        box-shadow: 0 50px 50px rgba(0, 0, 0, 0.1);
        -webkit-transform: scale(1.04);
        transform: scale(1.04);
      }
      @media (max-width: 1000px) {
        .postlist-wrapper {
          flex-basis: calc(49.95% - 1rem);
          max-width: calc(49.95% - 1rem);
          width: calc(49.95% - 1rem);
          height: 18rem;
        }
      }
      @media (max-width: 700px) {
        .postlist-wrapper {
          flex-basis: 100%;
          max-width: 100%;
          width: 100%;
          height: 15rem;
        }
      }
      .postlist-styledLink {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        padding: 1rem;
        z-index: 3;
        overflow: hidden;
      }
      .postlist-styledLink,
      .postlist-styledLink:after {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border-radius: 0.4rem;
      }
      .postlist-styledLink:after {
        content: "";
        display: block;
        width: 100%;
        height: 100%;
        background: -webkit-gradient(
          linear,
          left top,
          left bottom,
          from(transparent),
          color-stop(50%, rgba(0, 0, 0, 0.3)),
          color-stop(80%, rgba(0, 0, 0, 0.7)),
          to(rgba(0, 0, 0, 0.8))
        );
        background: linear-gradient(
          180deg,
          transparent 0,
          rgba(0, 0, 0, 0.3) 50%,
          rgba(0, 0, 0, 0.7) 80%,
          rgba(0, 0, 0, 0.8)
        );
        z-index: -10;
        -webkit-transition: opacity 0.4s;
        transition: opacity 0.4s;
      }
      .postlist-image {
        position: absolute;
        top: 0;
        overflow: hidden;
        right: 0;
        left: 0;
        bottom: 0;
        z-index: 1;
        -o-object-fit: cover;
        object-fit: cover;
        border-radius: 0.4rem;
      }
      .postlist-image img {
        border-radius: 0.4rem;
        height: -webkit-fit-content;
        height: -moz-fit-content;
        height: fit-content;
      }
      .postlist-image img > div,
      .postlist-image img > div > div {
        position: static !important;
      }
      .postlist-info {
        color: #f0f0f0;
        margin: auto;
        bottom: 0;
        left: 0;
      }
      .postlist-info span {
        font-size: 14px;
      }
      .postlist-title h2 {
        margin: auto;
        padding-top: 0.5rem;
        text-align: center;
        font-size: 26px;
      }
      .postlist-title h3 {
        font-size: 20px;
        margin-top: 0.5rem;
        margin-bottom: 0.5rem;
      }
      .postlist-title span {
        font-size: 16px;
        display: flex;
      }
      .postlist-title {
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .navbar-styledLink {
        display: flex;
        font-weight: 700;
        align-items: center;
      }
      .navbar-nav {
        display: flex;
        flex-grow: 0.1;
        padding-right: 15px;
        justify-content: space-between;
        font-family: Open Sans, -apple-system, BlinkMacSystemFont, Segoe UI,
          Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji,
          Segoe UI Emoji, Segoe UI Symbol;
        font-weight: 500;
        font-size: 1.1rem;
        align-self: center;
        height: -webkit-fit-content;
        height: -moz-fit-content;
        height: fit-content;
      }
      .navbar-nav a {
        color: #fff;
        -webkit-transition: all 0.4s;
        transition: all 0.4s;
        text-shadow: 1px 1px 5px #000, 2px 2px 1px #000;
      }
      .navbar-nav a:hover {
        color: #f0f0f0;
        font-weight: 700;
      }
      .tagsContainer {
        margin: 1rem 0;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
      }
      .tagsContainer a {
        margin: 0 1rem 1rem 0;
        color: #2e3246;
        padding: 0.3rem 0.6rem;
        background: #cecece;
        border-radius: 10px;
      }
      .tagsContainer a:hover {
        color: #f0f0f0;
        background: #3e5fbc;
        border: #3e5fbc;
      }
      .tag-styledLink {
        color: #f0f0f0;
        padding: 5px 10px;
        border: 1px solid #fff;
        border-radius: 20px;
      }
      .tag-styledLink:hover {
        color: #2e3246;
        background: #f0f0f0;
      }
      .tag-information {
        text-align: center;
      }
      .tag-information h1 {
        font-size: 2rem;
        margin-bottom: 1.25rem;
      }
      .post-suggestionBar {
        display: flex;
        flex-wrap: nowrap;
        justify-content: space-between;
        width: 100vw;
      }
      .post-postSuggestion {
        display: flex;
        align-items: center;
        margin: 1rem;
      }
      .post-postSuggestion a {
        width: 100%;
      }
      .post-postSuggestion h3 {
        font-size: inherit;
      }
      h3.prev-post {
        text-align: left;
      }
      h3.next-post {
        text-align: right;
      }
      button.next-post,
      button.prev-post {
        color: grey;
        background-color: transparent;
        border: none;
      }
      button.next-post:hover,
      button.prev-post:hover {
        color: #000;
      }
      :focus {
        outline: none;
      }
      *,
      :after,
      :before {
        box-sizing: inherit;
      }
      html {
        text-rendering: optimizeLegibility;
        overflow-x: hidden;
        box-sizing: border-box;
        -ms-overflow-style: scrollbar;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      body,
      html {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
      }
      body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }
      a {
        -webkit-transition: color 0.5s;
        transition: color 0.5s;
      }
      a,
      a:hover {
        text-decoration: none;
      }
      h1 {
        font-family: Candal, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,
          Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji,
          Segoe UI Symbol;
      }
      table {
        table-layout: fixed;
        overflow: scroll;
        width: auto !important;
      }
      td,
      th {
        padding: 10px !important;
        width: -webkit-max-content;
        width: -moz-max-content;
        width: max-content;
      }
      .index-postWrapper {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-between;
        margin: 4rem 4rem 1rem;
      }
      @media (max-width: 1000px) {
        .index-postWrapper {
          margin: 4rem 2rem 1rem;
        }
      }
      @media (max-width: 700px) {
        .index-postWrapper {
          margin: 4rem 1rem 1rem;
        }
      }
      .gatsby-image-wrapper {
        height: 100%;
      }
      section.container-wrapper {
        padding: 3rem 1.5rem;
      }
      section.wrapper {
        min-height: calc(100vh - 300px);
        height: 100%;
      }
      section.wrapper div {
        padding: 3rem 1.5rem;
      }
    </style>
    <link rel="sitemap" type="application/xml" href="../sitemap.xml" />
    <link
      rel="shortcut icon"
      href="../icons/icon-48x48c6b6.png?v=9668d14baa2fedfee7875f4801ea5d85"
    />
    <link rel="manifest" href="../manifest.webmanifest" />
    <meta name="theme-color" content="#3e7bf2" />
    <link
      rel="apple-touch-icon"
      sizes="48x48"
      href="../icons/icon-48x48c6b6.png?v=9668d14baa2fedfee7875f4801ea5d85"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="../icons/icon-72x72c6b6.png?v=9668d14baa2fedfee7875f4801ea5d85"
    />
    <meta name="generator" content="Gatsby 2.3.25" />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="../icons/icon-144x144c6b6.png?v=9668d14baa2fedfee7875f4801ea5d85"
    />
    <link
      rel="apple-touch-icon"
      sizes="192x192"
      href="../icons/icon-192x192c6b6.png?v=9668d14baa2fedfee7875f4801ea5d85"
    />
    <link
      rel="apple-touch-icon"
      sizes="256x256"
      href="../icons/icon-256x256c6b6.png?v=9668d14baa2fedfee7875f4801ea5d85"
    />
    <link
      rel="apple-touch-icon"
      sizes="384x384"
      href="../icons/icon-384x384c6b6.png?v=9668d14baa2fedfee7875f4801ea5d85"
    />
    <link
      rel="apple-touch-icon"
      sizes="512x512"
      href="../icons/icon-512x512c6b6.png?v=9668d14baa2fedfee7875f4801ea5d85"
    />
    <link
      as="script"
      rel="preload"
      href="../component---src-templates-post-jsx-90d047fd0d1ef306b5bf.js"
    />
    <link as="script" rel="preload" href="../1-6c82cfd6aba31a386fde.js" />
    <link as="script" rel="preload" href="../app-63577178a3bdd725b6eb.js" />
    <link as="script" rel="preload" href="../styles-aa92193d8aa2fe2f8548.js" />
    <link
      as="script"
      rel="preload"
      href="../webpack-runtime-fd7c0e3081b0f1218320.js"
    />
    <link
      as="fetch"
      rel="preload"
      href="../static/d/363/path---cs-9-auth-ii-guided-demo-i-033-643-v7bthaL9XGKbIgiYa5A3Ie3uU5U.json"
      crossorigin="use-credentials"
    />
  </head>
  <body>
    <noscript id="gatsby-noscript"
      >This app works best with JavaScript enabled.</noscript
    >
    <div id="___gatsby">
      <div style="outline: none" tabindex="-1" role="group">
        <div>
          <div class="headroom-wrapper">
            <div class="headroom headroom--unfixed">
              <a class="navbar-styledLink" href="../index.html"
                ><img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAoCAYAAAB5ADPdAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAHsIAAB7CAF4JB2hAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAHVklEQVRYCcWYW4iVVRSAZ7x1MbXybs7V0szMS5YymIGUIVQQGUEPvXSBIKnXjHoJevMpkKAeiiACKcGEIkenNOpBTTNSM3XUJkcdNUdLx3F0+r59/nX6xzMzzpyXFnyz73utvdba+z9aUVGmdHd3V8ZS6tNhCYyzj3JIjJVTFjcuZ7FrMOA1igZohhHwQWVl5V4No7xKe9BS1olQOFRNlCsoXoJqWAA32qZ/mAZRlnXoYWwyKFERcoXyJhY+Ax0wG0bCrXAYlsI34KGvwKCkHE/FmrlomgYt0JnTOpb6klx70NVQMOiFLHgADI/cAor76bn79GTm0UGHsF+jDBUMhSFZmQ/3vShvBz1jjmnMxKycTFkDyvBsrfvIdY3s0ygWe3tMoCtwNSu7LBkbjTKVXoDxcBb2we3QDTeAoa1gfme21n2E5f0/GfmTu0eSzCBvjydeDpNAZUfgW/DqG7KTMAH2wyYwz8Jr9ayvor0MXO/z4PoNGHYudNAukRJXxmTKWcx+G7w9JrI3y8fR+t+gJ34Fb+DH8Ak0QhPoMZ+H46CONjgP3lDLNzHsODooKj1sDykJH5P0kP2vgwaMgYWgolY4BTOgHuaBMhxqUq2iYj6lBjtfT54B37FFoIGGfiUoJU4p6cx5ySReDRdB9/smheyhotEa5aYapHLDY5j0rKd3rRdhCjhfOQ3fgWnzIg5o681bMZk5ScLyUbRuBhVq0PfwJOyAe+BuMHdC9IpoWIh7TAUvw4dwAPS6+WgY3V8JnYUWf69N9IjvX4yZE3rgH1Chmx4EN1XZbRCHsgyoJtFjTdABEe7mNFIwxNxSQmehxd/YNDpiwp90aJAn+g30zjow0U3uy6DE/Pxp9VYX6Mn54FgcwH7rzYTuDKHTKfm1NHNGMcFN0gQWeIqN4AbHQBkL7fAI+AyoQAM0zHViW7yd5pTh8kkx8fXc+Ky+gdI3zHcvfbgz/XZXDDPRrDDoIr/8Xn2T03eoCupARYbQvNL4MIZqMiZvmPu51ii0gN41f7zJlu7zGHqccxT2o9unI/RXJoPo0JjFFI/C/XAHXAKN0kDzwlxSkR5wncaF+7dQd9xrr4Gu9ZKYj14U5ykq1sNnwQi4h97/Bb7GuIIHaWjQKxRzoRYU3a83ZsIsCCUalU5E6Yb9icaJa8KTrvWAGrstq3uhJoFeXA9v+YF8kIonrINl4ONWDXPAyRrnqfWOm6pENNyQKGthK5h35qEXIYx2TRjlHq41dOozCnqyCtSjgeecYCXySDdPzPCj6obiAjfWEEulGcwFw7EaVoI3U/H2Kq41VM7RUNda2u9Bza/poH7DvxvG+sn2kVsDDeDAHtB6b1gNaJziKfMSxtmvUtt6x7Z1D3yt2K9Byik4AuZoPewAD7k2KcIwO98A3yNPcAGM+3wYD3mFbqJCD+B6lRwC10wDQ+P8MNR558G5jp0AdRyA02Cfa92jkWT/wifB302HKF+mcyHoMZO7FswPxfAZWhNeg1Rgn56x3QaOTQdFgxTnKSoODxkq6641tCa8/IgdGlkQDYt6lPStglZoh8ug+ApvhksZHZSK4z6CShdcTLXu7ibK9+FC1nYv1+4Ak7yH0Kehhbhjoaf2aUjvSbZgKV0HoROcfBL0nMncBIZI71jGO6SHxBAfgyfgXUj7U5oSjl9Cp+NJp8YAXYUH/FoPqUBZDhPBWzQSVK4htl+FaWDIRoAh8u3xVmmcbcPwEzwFW8E9nOPl8QaPwYhllEr85A7dBU8Vxtgts5T2EnDjyeBNbAE33AKH4U7wDYubqWfaQTGJ9ehc+AiqoRGOgh5vBg17GJSiMYVmFr40kn0DOYG3bSr486U+K5+j1Et1oNeU8IqbaoRvjgmsp3xE3cOwbYYzoCGK3nXvu9CV/iVtZ17cOMTNVOCX3bC6WE/9DvZVwSJQzDPFNXrGtgb4EFuGcY4vBp+EJqiFOvBZcK6fFv8RYT4VPZY3KjpNRnFzN5sBG0E5Ap66GsIzVJMSFS2AMEiPdoEH1HMrQDkG9uu55PW8QfQVb435hMHJYp+BA4zpGZN0JpyCVtAjXgDfF/PDR28cGD7bigltrtk+DPtAr3sQE35nVu5Cp89Dyf/O6N6ixATKWjrfAUPjrXIzQ+gjuBfWw/Og8howJCa641tBwxtBD80GD6HXjYAh06urMMp3i+K/0NGfcsKyKDnD3PBxUKkh+AO2s8HPlL4v71HMA0PxUFbqTZ8Cb+rTzD3BvAbqc8DbqqfN0S8Z84Gl6GkQY72LhvU+koxJecicF2AnrIN4wX+gvgk+A0PWpzDeI0r5iflEL/ZjffrdTIfGxQVwE+vR3kbdpB8FcQg9MRq+Yo9OFLt/zI/Sffy/iWjT7Cm9GuWUbJE3qVdhfDdKzS9DZd6pZAr488N8UlR+tVAd+N844cBXMBNjvFnK5+DV/hQ0xJvnz49dzCm5VYwNSPqM6/VWoxTd6Rl5lrkmsmE7CGvo96qncdr/j2DABAntGhT1csp/AQmuNkNaDuFXAAAAAElFTkSuQmCC"
                  alt="Gatsby Logo"
              /></a>
              <nav class="navbar-nav">
                <a href="../index.html">Home</a
                ><a href="../blog/index.html">Tagged List</a>
              </nav>
            </div>
          </div>
          <div class="header-wrapper">
            <div class="header-text">
              <h1>CS9: Auth II</h1>
              <h3>Guided Demo I</h3>
              <h4>2018-06-13</h4>
            </div>
          </div>
          <section class="wrapper">
            <div>
              <div class="content-wrapper">
                <p>morgan: method/ Route/ status / time /</p>
                <div class="gatsby-highlight" data-language="javascript">
                  <pre
                    style="counter-reset: linenumber NaN"
                    class="language-javascript line-numbers"
                  ><code class="language-javascript"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./_config/db'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> setupMiddleware <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./config/middleware'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> setupRoutes <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./config/routes'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

db
    <span class="token punctuation">.</span><span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token string">'jwtauth'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'\n... API Connected to jwtauth Database ...\n'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'\n ERROR Connecting to MongoDB, is it running? \n'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">setupMiddleware</span><span class="token punctuation">(</span>server<span class="token punctuation">)</span>
<span class="token function">setupRoutes</span><span class="token punctuation">(</span>server<span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">5500</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'\n=== API running on port 5500 ===\n'</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> userRoutes <span class="token operator">=</span> <span class="token function">require</span> <span class="token punctuation">(</span><span class="token string">'.../users/userRoutes'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> authRoutes <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'.../auth/authRoutes'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">server</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> api<span class="token punctuation">:</span> <span class="token string">'up and running'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/api/users'</span><span class="token punctuation">,</span> userRoutes<span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/api/auth'</span><span class="token punctuation">,</span> authRoutes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./User'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    User<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'-password'</span><span class="token punctuation">)</span> <span class="token comment">// remove password from data sent on response</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">users</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'.../users/User'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/register'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
User<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span> <span class="token comment">// this does new User and user.save</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// will remove password later - need to make sure it's hashed, that's why it's there</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span>


<span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span>'mongoose<span class="token punctuation">)</span>
<span class="token keyword">const</span> bcrypt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'bcrypt'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> userSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mongoose<span class="token punctuation">.</span>Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    username<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
        required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        unique<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        lowercase<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    password<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
        required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        minLength<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">// make this at least 12 in production</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

userSchema<span class="token punctuation">.</span><span class="token function">pre</span><span class="token punctuation">(</span><span class="token string">'save'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> bcrypt<span class="token punctuation">.</span><span class="token function">hash</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">hash</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> hash<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

userSchema<span class="token punctuation">.</span>methods<span class="token punctuation">.</span><span class="token function-variable function">validatePassword</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">passwordGuess <span class="token punctuation">{</span>
    <span class="token keyword">return</span> bcrypt<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>passwordGuess<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">)</span>
<span class="token punctuation">}</span></span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
                </div>
                <p>
                  Cookies are automatically included on every request JSON with
                  tokens are not
                </p>
                <p>
                  Cookies are unique to each domain plus device pair JSON with
                  tokens can go across domains
                </p>
                <p>
                  Cookies are sent in cookieheader JSON with tokens can be sent
                  on headers or other places
                </p>
                <p>
                  Tokens have a larger size limit (8 or more vs 4kb) Work well
                  with stateless authentication flows HTTP is stateless
                </p>
                <p>
                  Passportjs is a library to use JSON with tokens
                  <a href="http://www.passportjs.org/"
                    >http://www.passportjs.org/</a
                  >
                </p>
                <p>
                  JWT
                  <a href="https://jwt.io/">https://jwt.io/</a>
                  If you want to do role-based authorization, can include in
                  payload
                </p>
                <p>
                  JWT is header + payload + signature Node.js library -
                  jsonwithtoken
                </p>
                <p>
                  Luis has only written an authentication system for personal
                  projects Usually a senior development at a company will write
                  this kind of code
                </p>
                <p>
                  Payload Data: "sub" - subject "iat" - issued at (timestamp)
                </p>
                <div class="gatsby-highlight" data-language="javascript">
                  <pre
                    style="counter-reset: linenumber NaN"
                    class="language-javascript line-numbers"
                  ><code class="language-javascript"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> jwt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jsonwebtoken'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'.../users/User'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> secret <span class="token operator">=</span> <span class="token string">'that is what I shared yesterday lol'</span><span class="token punctuation">;</span> <span class="token comment">// would probably come from config file</span>
<span class="token comment">// on every request, client sends token - secret is how you decrypt and encrypt token to make sure it's the right one</span>
router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/register'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    User<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span> <span class="token comment">// this does new User and user.save</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">makeToken</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
            res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> token <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will remove password later - need to make sure it's hashed, that's why it's there</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">makeToken</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// Would probably put this in a different file for helperfunctions</span>
    <span class="token comment">// build the token</span>
<span class="token keyword">const</span> timestamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
        sub<span class="token punctuation">:</span> user<span class="token punctuation">.</span>_id<span class="token punctuation">,</span>
        iat<span class="token punctuation">:</span> timestamp<span class="token punctuation">,</span>
        username<span class="token punctuation">:</span> user<span class="token punctuation">.</span>username
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// list of options found at https://www.npmjs.com/package/jsonwebtoken</span>
        expiresIn<span class="token punctuation">:</span> <span class="token string">'24h'</span> <span class="token comment">// Every day, user needs to refresh token</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> jwt<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> secret<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// synchronous operation</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
                </div>
                <p>Questions:</p>
                <ol>
                  <li>Why are you declaring secret outside?</li>
                </ol>
                <p>
                  You need it to decode the token, so instead of having to copy
                  it in both places, you can extract it as a variable to use
                  later
                </p>
                <ol start="2">
                  <li>Does pre-save hook also work on create?</li>
                </ol>
                <p>Yes, because User.create() is new User + user.save()</p>
                <ol start="3">
                  <li>
                    Is it normal after setting ttl for sessions with
                    connect-mongo they're still in the database and have to be
                    removed manually?
                  </li>
                </ol>
                <p>
                  It's a combination of both - if it's not expired, they're not
                  going to be removed. ttl will check every once in a while, but
                  if you have a cookie that you said will last 24 hours, it'll
                  still be there. By setting that to a sensitive number and make
                  sure you have an expiration on the cookie, it'll clean up
                  after itself.
                </p>
                <ol start="4">
                  <li>
                    What is an alternative of using a timestamp as an iat?
                  </li>
                </ol>
                <p>
                  They should be a NumericDate. Can't be string with a date.
                </p>
                <p>
                  Sub and iat are defined as industry standard - sub is
                  information about the object and iat is a timestamp
                </p>
                <ol start="5">
                  <li>
                    What is the common relationship between cookies and tokens?
                  </li>
                </ol>
                <p>
                  They're containers for information you can produce on the
                  server either about the user or session that can be passed
                  back and forth and can be used for authentication and
                  authorization Authentication is establishing with the server
                  who you are. Authorization is establishing with the server
                  what you do. 403 - I know who you are, you just don't have
                  access.
                </p>
                <p>
                  Modules server side auth using JWTs with passport and
                  jsonwebtoken npm modules client side auth with JWT/local
                  storage
                </p>
                <h3>JWTs</h3>
                <p>An open standard No need for session store or cookies.</p>
                <p>
                  Token is sent every time, because now we're stateless, (no
                  session storage on the server) like HTTP
                </p>
                <p>
                  The token will be stored on the client, possibly inside local
                  storage (key-value store for the browser)
                </p>
                <h3>Overview of the Process:</h3>
                <ul>
                  <li>User signs up</li>
                  <li>
                    Server hashes the user password and stores the user in the
                    database
                  </li>
                  <li>
                    Server creates JWT token (encrypted and signed using secret)
                  </li>
                  <li>
                    Send JWT token back to the client as part of the response
                  </li>
                  <li>Client stores the token</li>
                  <li>Client sends token on every request</li>
                  <li>
                    Server verifies token and denies or provides access to
                    resource
                  </li>
                </ul>
                <p>
                  Many different ways of doing this with Express and MongoDB
                </p>
                <p>
                  We'll use Mongoose models. We could use schema.Methods. We
                  could use schema.statics. We could use middleware (tied to
                  lifecycle events)
                </p>
                <p>
                  We'll use middlware to hash the passwords. We'll hash them on
                  the schema.pre('save', function(next) { // here })
                </p>
                <p>Passport is the go-to library for auth in Node.js</p>
                <h2>Authentication</h2>
                <ul>
                  <li>Client sends credentials</li>
                  <li>Server verifies credentials</li>
                  <li>Server sends back token</li>
                  <li>Client stores the token</li>
                  <li>Client sends token on every request</li>
                  <li>Server verifies that the token is valid</li>
                  <li>Server provides access to resource</li>
                </ul>
                <h2>Cookies</h2>
                <ul>
                  <li>automatically included on every request</li>
                  <li>unique to each domain + device pair</li>
                  <li>cannot be sent to a different domain</li>
                  <li>sent in the cookie header</li>
                  <li>
                    has a body that can have extra identifying information
                  </li>
                  <li>max size around 4KB</li>
                </ul>
                <h2>Tokens</h2>
                <ul>
                  <li>
                    have to be wired up manually on both server and client
                  </li>
                  <li>sent inside the Authentication header</li>
                  <li>
                    can be sent to any domain - important when your client and
                    server are deployed to different servers/domains
                  </li>
                  <li>larger site limit than cookies (research the size)</li>
                </ul>
                <h2>JWTs</h2>
                <ul>
                  <li>
                    on successful register or login, take user id + server
                    secret to generate jwt
                  </li>
                  <li>
                    on request for protected resource, take jwt + server secret
                    to decode token and obtain user id
                  </li>
                  <li>
                    the three methods we'll use are sign, verify, and decode
                  </li>
                </ul>
                <p>
                  When signing the token, sub refers to the subject (who is this
                  token about) and iat means issued at time and will be included
                  by default
                </p>
                <h2>Passport</h2>
                <ul>
                  <li>
                    Authentication middleware. More of an ecosystem of
                    strategies.
                  </li>
                  <li>install passport and passport-jwt</li>
                  <li>configure and use a strategy (a kind of plugin)</li>
                  <li>
                    tell the strategy where to find the payload and secret
                  </li>
                  <li>
                    use passport as jwt middleware for the protected routes
                  </li>
                  <li>
                    <code class="language-text"
                      >js const protected = passport.authenticate(&#39;jwt&#39;,
                      { session: false });</code
                    >
                  </li>
                  <li>payload comes from the token payload</li>
                </ul>
                <p>
                  Add the /api/hobbits and /api/wizards and configure the
                  hobbits route to be protected for hobbits:
                  server.get('/api/hobbits', protected, homies ...)
                </p>
                <p>To test it:</p>
                <ul>
                  <li>sign up</li>
                  <li>copy the returned token (without quotes)</li>
                  <li>
                    add the token to the Authorization header. Note that
                    removing the Bearer part will make it fail. Seems like
                    postman normalizes the casing, so Bearer or bearer + space +
                    token both work Hitting the wizards route works but the
                    hobbit routes should now need the token
                  </li>
                </ul>
                <p>Login</p>
                <ul>
                  <li>
                    add a local strategy to let the user authenticate using
                    username and password
                  </li>
                  <li>install passport-local strategy module/po</li>
                  <li>
                    inside the local strategy config function use the method to
                    verify password against database (not written yet)
                  </li>
                  <li>
                    add the method ot the .methods object on the user model
                  </li>
                  <li>
                    tell passport to use that strategy for login:
                    passport.use(localStrategy)
                  </li>
                  <li>
                    define another middleware for the local strategy:
                    <code class="language-text"
                      >const authenticate =
                      passport.authenticate(&#39;local&#39;, { session: false
                      })</code
                    >
                  </li>
                  <li>
                    add it to the login route server.post('/api/login',
                    authenticate, (req, res) => {}) Here we just need to provide
                    the token, because by the time they hit this route, they
                    already authenticated.
                  </li>
                  <li>test it on postman and the token should be returned</li>
                </ul>
                <h4>Three scenarios:</h4>
                <ul>
                  <li>register</li>
                  <li>login</li>
                  <li>access protected resource</li>
                </ul>
                <h4>Three players:</h4>
                <ul>
                  <li>Register use 'jsonwebtoken'</li>
                  <li>
                    Access a protected resource: The 'jwt' strategy is used to
                    extract from header and decoding
                  </li>
                  <li>
                    Login: The local to verify username and password on login
                    and provide a token on success
                  </li>
                </ul>
                <p>
                  For jwt signing and decoding the tokens we use jsonwebtoken
                </p>
                <h2>Client Auth</h2>
                <p>Four routes: / /signup /signin /users</p>
                <p>Configure router:</p>
                <ul>
                  <li>add react-router-dom</li>
                  <li>add routes</li>
                </ul>
                <p>Build the forms</p>
                <div class="gatsby-highlight" data-language="javascript">
                  <pre
                    style="counter-reset: linenumber NaN"
                    class="language-javascript line-numbers"
                  ><code class="language-javascript"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> jwt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jsonwebtoken'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> passport <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'passport'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> LocalStrategy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'passport-local'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> JwtStrategy <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'passport-jwt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Strategy<span class="token punctuation">;</span>
<span class="token keyword">const</span> ExtractJwt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'passport-jwt'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'.../users/User'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> secret <span class="token operator">=</span> <span class="token string">'that is what I shared yesterday lol'</span><span class="token punctuation">;</span> <span class="token comment">// would probably come from config file</span>
<span class="token comment">// on every request, client sends token - secret is how you decrypt and encrypt token to make sure it's the right one</span>

<span class="token keyword">const</span> localStrategy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalStrategy</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">username<span class="token punctuation">,</span> password<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// done is kind of like next() and acts like a callback</span>
    User<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>username<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// user could return the user or null, thus the if statement</span>
            <span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            user<span class="token punctuation">.</span><span class="token function">validatePassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token comment">// password is coming from strategy library</span>
                <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">isValid</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>isValid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">const</span> <span class="token punctuation">{</span> _id<span class="token punctuation">,</span> username <span class="token punctuation">}</span> <span class="token operator">=</span> user
                        <span class="token keyword">return</span> <span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> _id<span class="token punctuation">,</span> username <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// this ends in req.user</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> <span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token function">done</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token function">done</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> jwtOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
    jwtFromRequest<span class="token punctuation">:</span> ExtractJwt<span class="token punctuation">.</span><span class="token function">fromAuthHeaderAsBearerToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    secretOrKey<span class="token punctuation">:</span> secret
<span class="token punctuation">}</span>

<span class="token keyword">const</span> jwtStrategy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JwtStrategy</span><span class="token punctuation">(</span>jwtOptions<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">payload<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    User<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>payload<span class="token punctuation">.</span>sub<span class="token punctuation">)</span> <span class="token comment">// when we made the token, inside the payload of the token we say that the userId is the sub</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span> <span class="token comment">// this is req.user</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token function">done</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// passport global middleware</span>
passport<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>localStrategy<span class="token punctuation">)</span><span class="token punctuation">;</span>
passport<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>jwtStrategy<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// passport local middleware</span>
<span class="token keyword">const</span> passportOptions <span class="token operator">=</span> <span class="token punctuation">{</span> session<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token comment">// by default passport will use sessions</span>
<span class="token keyword">const</span> authenticate <span class="token operator">=</span> passport<span class="token punctuation">.</span><span class="token function">authenticate</span><span class="token punctuation">(</span><span class="token string">'local'</span><span class="token punctuation">,</span> pssportOptions<span class="token punctuation">)</span>
<span class="token comment">// we set this to false because we want to use JSON web tokens</span>
<span class="token keyword">const</span> <span class="token keyword">protected</span> <span class="token operator">=</span> passport<span class="token punctuation">.</span><span class="token function">authenticate</span><span class="token punctuation">(</span><span class="token string">'jwt'</span><span class="token punctuation">,</span> passportOptions<span class="token punctuation">)</span>

<span class="token comment">// helpers</span>
<span class="token keyword">function</span> <span class="token function">makeToken</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// Would probably put this in a different file for helperfunctions</span>
<span class="token comment">// build the token</span>
    <span class="token keyword">const</span> timestamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
        sub<span class="token punctuation">:</span> user<span class="token punctuation">.</span>_id<span class="token punctuation">,</span>
        iat<span class="token punctuation">:</span> timestamp<span class="token punctuation">,</span>
        username<span class="token punctuation">:</span> user<span class="token punctuation">.</span>username
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// list of options found at https://www.npmjs.com/package/jsonwebtoken</span>
        expiresIn<span class="token punctuation">:</span> <span class="token string">'24h'</span> <span class="token comment">// Every day, user needs to refresh token</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> jwt<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> secret<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// synchronous operation</span>
<span class="token punctuation">}</span>

<span class="token comment">// routes</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">server</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> api<span class="token punctuation">:</span> <span class="token string">'up and running'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/register'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    User<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span> <span class="token comment">// this does new User and user.save</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">makeToken</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
            res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> token <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will remove password later - need to make sure it's hashed, that's why it's there</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span> authenticate<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// if we're here the user logged in correctly</span>
    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> token<span class="token punctuation">:</span> <span class="token function">makeToken</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>user<span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token punctuation">:</span> req<span class="token punctuation">.</span>user <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    User<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">users</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
                </div>
                <p>
                  The good news is you don't have to do this a lot. On your
                  personal projects because no one else will do it for you, but
                  other than that...
                </p>
                <p>
                  All you have to do is add the bearer authentication header to
                  your requests When you get the token back, you need to store
                  it somewhere in the application so you can send it back with
                  the request Can use local storage for that
                </p>
                <p>
                  Is there any other way shorter than this and efficient? I
                  don't know of any. Passport takes away a lot of the things you
                  have to use manually There's more to it than just this, but
                  it's the same pattern - following the documentation on each
                  strategy
                </p>
                <p>Need at least three libraries:</p>
                <ul>
                  <li>Bcrypt</li>
                  <li>Passport</li>
                  <li>jsonwithtoken</li>
                </ul>
              </div>
              <div class="tagsContainer">
                <a href="../tags/authentication/index.html"
                  ><span>Authentication</span></a
                ><a href="../tags/cs9/index.html"><span>CS9</span></a>
              </div>
            </div>
          </section>
          <div class="post-suggestionBar">
            <div class="post-postSuggestion">
              <a href="../authentication-notes/index.html"
                ><button value="prev" aria-label="previous" class="prev-post">
                  <h3 class="prev-post">
                    &lt;&lt; Previous:<br />Authentication Notes<br />
                  </h3></button
              ></a>
            </div>
            <div class="post-postSuggestion">
              <a href="../cs9-auth-ii-guided-demo-ii/index.html"
                ><button value="next" aria-label="next" class="next-post">
                  <h3 class="next-post">
                    &gt;&gt; Next:<br />CS9: Auth II<br />Guided Demo II
                  </h3>
                </button></a
              >
            </div>
          </div>
          <footer class="footer-wrapper">
            <div class="footer-text">
              <span
                >Notes for Great Good    <span role="img" aria-label="pawprints"
                  >🐾</span
                ><a href="https://amyshackles.com/">Amy Shackles</a></span
              >
            </div>
          </footer>
        </div>
      </div>
    </div>
    <script id="gatsby-script-loader">
      /*<![CDATA[*/ window.page = {
        componentChunkName: "component---src-templates-post-jsx",
        jsonName: "cs-9-auth-ii-guided-demo-i-033",
        path: "/CS9-Auth-II-Guided-Demo-I",
      };
      window.dataPath =
        "363/path---cs-9-auth-ii-guided-demo-i-033-643-v7bthaL9XGKbIgiYa5A3Ie3uU5U"; /*]]>*/
    </script>
    <script id="gatsby-chunk-mapping">
      /*<![CDATA[*/ window.___chunkMapping = {
        app: ["/app-63577178a3bdd725b6eb.js"],
        "component---src-pages-tags-jsx": [
          "/component---src-pages-tags-jsx-e522a5598fa2964ee6de.js",
        ],
        "component---src-templates-tag-jsx": [
          "/component---src-templates-tag-jsx-5f637c2edf65bf3f9f1c.js",
        ],
        "component---src-templates-post-jsx": [
          "/component---src-templates-post-jsx-90d047fd0d1ef306b5bf.js",
        ],
        "component---src-pages-404-jsx": [
          "/component---src-pages-404-jsx-095f8c7d93b57e5a6681.js",
        ],
        "component---src-pages-blog-jsx": [
          "/component---src-pages-blog-jsx-316bdf552f6880939952.js",
        ],
        "component---src-pages-index-jsx": [
          "/component---src-pages-index-jsx-89fc494ceffadedf0b62.js",
        ],
        "pages-manifest": ["/pages-manifest-e0687b1a66911235678c.js"],
      }; /*]]>*/
    </script>
    <script src="../webpack-runtime-fd7c0e3081b0f1218320.js" async=""></script>
    <script src="../styles-aa92193d8aa2fe2f8548.js" async=""></script>
    <script src="../app-63577178a3bdd725b6eb.js" async=""></script>
    <script src="../1-6c82cfd6aba31a386fde.js" async=""></script>
    <script
      src="../component---src-templates-post-jsx-90d047fd0d1ef306b5bf.js"
      async=""
    ></script>
  </body>
  <!-- Mirrored from notes-for-great-good.netlify.app/cs9-auth-ii-guided-demo-i/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 03 Sep 2021 11:37:28 GMT -->
</html>
